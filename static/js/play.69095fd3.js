(window["define"]=window["define"]||[]).push([["play"],{"00fd":function(e,t,n){var o=n("9e69"),i=Object.prototype,r=i.hasOwnProperty,a=i.toString,s=o?o.toStringTag:void 0;function c(e){var t=r.call(e,s),n=e[s];try{e[s]=void 0;var o=!0}catch(c){}var i=a.call(e);return o&&(t?e[s]=n:delete e[s]),i}e.exports=c},"0768":function(e,t,n){var o=n("df4d");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"0958":function(e,t,n){var o=n("6d18");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"0baf":function(e,t,n){},"0dd7":function(e,t){function n(e,t,n){n=n||0;var o,i,r,a,s,c,l,u=[0,0];return o=e[1][1]-e[0][1],i=e[0][0]-e[1][0],r=o*e[0][0]+i*e[0][1],a=t[1][1]-t[0][1],s=t[0][0]-t[1][0],c=a*t[0][0]+s*t[0][1],l=o*s-a*i,_(l,0,n)||(u[0]=(s*r-i*c)/l,u[1]=(o*c-a*r)/l),u}function o(e,t,n,o){var i=t[0]-e[0],r=t[1]-e[1],a=o[0]-n[0],s=o[1]-n[1];if(a*r-s*i===0)return!1;var c=(i*(n[1]-e[1])+r*(e[0]-n[0]))/(a*r-s*i),l=(a*(e[1]-n[1])+s*(n[0]-e[0]))/(s*i-a*r);return c>=0&&c<=1&&l>=0&&l<=1}function i(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(n[0]-e[0])*(t[1]-e[1])}function r(e,t,n){return i(e,t,n)>0}function a(e,t,n){return i(e,t,n)>=0}function s(e,t,n){return i(e,t,n)<0}function c(e,t,n){return i(e,t,n)<=0}e.exports={decomp:C,quickDecomp:B,isSimple:k,removeCollinearPoints:M,removeDuplicatePoints:I,makeCCW:m};var l=[],u=[];function d(e,t,n,o){if(o){var r=l,a=u;r[0]=t[0]-e[0],r[1]=t[1]-e[1],a[0]=n[0]-t[0],a[1]=n[1]-t[1];var s=r[0]*a[0]+r[1]*a[1],c=Math.sqrt(r[0]*r[0]+r[1]*r[1]),d=Math.sqrt(a[0]*a[0]+a[1]*a[1]),f=Math.acos(s/(c*d));return f<o}return 0===i(e,t,n)}function f(e,t){var n=t[0]-e[0],o=t[1]-e[1];return n*n+o*o}function p(e,t){var n=e.length;return e[t<0?t%n+n:t%n]}function v(e){e.length=0}function g(e,t,n,o){for(var i=n;i<o;i++)e.push(t[i])}function m(e){for(var t=0,n=e,o=1;o<e.length;++o)(n[o][1]<n[t][1]||n[o][1]===n[t][1]&&n[o][0]>n[t][0])&&(t=o);return!r(p(e,t-1),p(e,t),p(e,t+1))&&(h(e),!0)}function h(e){for(var t=[],n=e.length,o=0;o!==n;o++)t.push(e.pop());for(o=0;o!==n;o++)e[o]=t[o]}function y(e,t){return s(p(e,t-1),p(e,t),p(e,t+1))}var b=[],x=[];function w(e,t,o){var i,r,s=b,l=x;if(a(p(e,t+1),p(e,t),p(e,o))&&c(p(e,t-1),p(e,t),p(e,o)))return!1;r=f(p(e,t),p(e,o));for(var u=0;u!==e.length;++u)if((u+1)%e.length!==t&&u!==t&&a(p(e,t),p(e,o),p(e,u+1))&&c(p(e,t),p(e,o),p(e,u))&&(s[0]=p(e,t),s[1]=p(e,o),l[0]=p(e,u),l[1]=p(e,u+1),i=n(s,l),f(p(e,t),i)<r))return!1;return!0}function S(e,t,n){for(var i=0;i!==e.length;++i)if(i!==t&&i!==n&&(i+1)%e.length!==t&&(i+1)%e.length!==n&&o(p(e,t),p(e,n),p(e,i),p(e,i+1)))return!1;return!0}function O(e,t,n,o){var i=o||[];if(v(i),t<n)for(var r=t;r<=n;r++)i.push(e[r]);else{for(r=0;r<=n;r++)i.push(e[r]);for(r=t;r<e.length;r++)i.push(e[r])}return i}function A(e){for(var t=[],n=[],o=[],i=[],r=Number.MAX_VALUE,a=0;a<e.length;++a)if(y(e,a))for(var s=0;s<e.length;++s)if(w(e,a,s)){n=A(O(e,a,s,i)),o=A(O(e,s,a,i));for(var c=0;c<o.length;c++)n.push(o[c]);n.length<r&&(t=n,r=n.length,t.push([p(e,a),p(e,s)]))}return t}function C(e){var t=A(e);return t.length>0?j(e,t):[e]}function j(e,t){if(0===t.length)return[e];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2===t[0].length&&t[0][0]instanceof Array){for(var n=[e],o=0;o<t.length;o++)for(var i=t[o],r=0;r<n.length;r++){var a=n[r],s=j(a,i);if(s){n.splice(r,1),n.push(s[0],s[1]);break}}return n}i=t,o=e.indexOf(i[0]),r=e.indexOf(i[1]);return-1!==o&&-1!==r&&[O(e,o,r),O(e,r,o)]}function k(e){var t,n=e;for(t=0;t<n.length-1;t++)for(var i=0;i<t-1;i++)if(o(n[t],n[t+1],n[i],n[i+1]))return!1;for(t=1;t<n.length-2;t++)if(o(n[0],n[n.length-1],n[t],n[t+1]))return!1;return!0}function P(e,t,n,o,i){i=i||0;var r=t[1]-e[1],a=e[0]-t[0],s=r*e[0]+a*e[1],c=o[1]-n[1],l=n[0]-o[0],u=c*n[0]+l*n[1],d=r*l-c*a;return _(d,0,i)?[0,0]:[(l*s-a*u)/d,(r*u-c*s)/d]}function B(e,t,n,o,i,l,u){l=l||100,u=u||0,i=i||25,t="undefined"!==typeof t?t:[],n=n||[],o=o||[];var d=[0,0],v=[0,0],m=[0,0],h=0,b=0,x=0,w=0,O=0,A=0,C=0,j=[],k=[],M=e,I=e;if(I.length<3)return t;if(u++,u>l)return console.warn("quickDecomp: max level ("+l+") reached."),t;for(var _=0;_<e.length;++_)if(y(M,_)){n.push(M[_]),h=b=Number.MAX_VALUE;for(var T=0;T<e.length;++T)r(p(M,_-1),p(M,_),p(M,T))&&c(p(M,_-1),p(M,_),p(M,T-1))&&(m=P(p(M,_-1),p(M,_),p(M,T),p(M,T-1)),s(p(M,_+1),p(M,_),m)&&(x=f(M[_],m),x<b&&(b=x,v=m,A=T))),r(p(M,_+1),p(M,_),p(M,T+1))&&c(p(M,_+1),p(M,_),p(M,T))&&(m=P(p(M,_+1),p(M,_),p(M,T),p(M,T+1)),r(p(M,_-1),p(M,_),m)&&(x=f(M[_],m),x<h&&(h=x,d=m,O=T)));if(A===(O+1)%e.length)m[0]=(v[0]+d[0])/2,m[1]=(v[1]+d[1])/2,o.push(m),_<O?(g(j,M,_,O+1),j.push(m),k.push(m),0!==A&&g(k,M,A,M.length),g(k,M,0,_+1)):(0!==_&&g(j,M,_,M.length),g(j,M,0,O+1),j.push(m),k.push(m),g(k,M,A,_+1));else{if(A>O&&(O+=e.length),w=Number.MAX_VALUE,O<A)return t;for(T=A;T<=O;++T)a(p(M,_-1),p(M,_),p(M,T))&&c(p(M,_+1),p(M,_),p(M,T))&&(x=f(p(M,_),p(M,T)),x<w&&S(M,_,T)&&(w=x,C=T%e.length));_<C?(g(j,M,_,C+1),0!==C&&g(k,M,C,I.length),g(k,M,0,_+1)):(0!==_&&g(j,M,_,I.length),g(j,M,0,C+1),g(k,M,C,_+1))}return j.length<k.length?(B(j,t,n,o,i,l,u),B(k,t,n,o,i,l,u)):(B(k,t,n,o,i,l,u),B(j,t,n,o,i,l,u)),t}return t.push(e),t}function M(e,t){for(var n=0,o=e.length-1;e.length>3&&o>=0;--o)d(p(e,o-1),p(e,o),p(e,o+1),t)&&(e.splice(o%e.length,1),n++);return n}function I(e,t){for(var n=e.length-1;n>=1;--n)for(var o=e[n],i=n-1;i>=0;--i)T(o,e[i],t)&&e.splice(n,1)}function _(e,t,n){return n=n||0,Math.abs(e-t)<=n}function T(e,t,n){return _(e[0],t[0],n)&&_(e[1],t[1],n)}},"0f40":function(e,t,n){var o=n("be56"),i=n("9aff"),r=n("6428"),a=parseFloat,s=Math.min,c=Math.random;function l(e,t,n){if(n&&"boolean"!=typeof n&&i(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=r(e),void 0===t?(t=e,e=0):t=r(t)),e>t){var l=e;e=t,t=l}if(n||e%1||t%1){var u=c();return s(e+u*(t-e+a("1e-"+((u+"").length-1))),t)}return o(e,t)}e.exports=l},1256:function(e,t,n){},1310:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},1703:function(e,t,n){},"192c":function(e,t,n){e.exports=n.p+"static/img/2ef9def908d5b62cf36cf603514800f9.png"},"1a8c":function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},"22d1":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return o}));var o="undefined"!==typeof window;o&&window,Date.now()}).call(this,n("c8ba"))},"29f3":function(e,t){var n=Object.prototype,o=n.toString;function i(e){return o.call(e)}e.exports=i},"2b3e":function(e,t,n){var o=n("585a"),i="object"==typeof self&&self&&self.Object===Object&&self,r=o||i||Function("return this")();e.exports=r},"2fcb":function(e,t,n){},"30c9":function(e,t,n){var o=n("9520"),i=n("b218");function r(e){return null!=e&&i(e.length)&&!o(e)}e.exports=r},"33b2":function(e,t,n){var o=n("7e05");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},3517:function(e,t,n){e.exports=n.p+"static/img/64e71f0dd229d724ef17749ef080d73b.png"},3729:function(e,t,n){var o=n("9e69"),i=n("00fd"),r=n("29f3"),a="[object Null]",s="[object Undefined]",c=o?o.toStringTag:void 0;function l(e){return null==e?void 0===e?s:a:c&&c in Object(e)?i(e):r(e)}e.exports=l},"3c50":function(e,t,n){e.exports=n.p+"static/img/ac6eabf0a0cc9c5fd809947129dea14e.png"},"408c":function(e,t,n){var o=n("2b3e"),i=function(){return o.Date.now()};e.exports=i},4660:function(e,t,n){var o=n("53b0");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"4d75":function(e,t,n){},"53b0":function(e,t,n){e.exports=n.p+"static/img/9bb4da0bf80ba5be97b16d35b8eb6d0d.png"},"570d":function(e,t,n){var o=n("cf5c");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"585a":function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n("c8ba"))},5899:function(e,t){e.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(e,t,n){var o=n("1d80"),i=n("5899"),r="["+i+"]",a=RegExp("^"+r+r+"*"),s=RegExp(r+r+"*$"),c=function(e){return function(t){var n=String(o(t));return 1&e&&(n=n.replace(a,"")),2&e&&(n=n.replace(s,"")),n}};e.exports={start:c(1),end:c(2),trim:c(3)}},"5dec":function(e,t,n){},"5f7f":function(e,t,n){var o=n("3c50");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"619a":function(e,t,n){var o=n("8da5");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},6428:function(e,t,n){var o=n("b4b0"),i=1/0,r=17976931348623157e292;function a(e){if(!e)return 0===e?e:0;if(e=o(e),e===i||e===-i){var t=e<0?-1:1;return t*r}return e===e?e:0}e.exports=a},"66a3":function(e,t,n){var o=n("192c");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"6d18":function(e,t,n){e.exports=n.p+"static/img/c8cb6465129ea5610a7c905ae3c5a1a5.png"},"6f55":function(e,t,n){"use strict";n("0baf")},7156:function(e,t,n){var o=n("861d"),i=n("d2bb");e.exports=function(e,t,n){var r,a;return i&&"function"==typeof(r=t.constructor)&&r!==n&&o(a=r.prototype)&&a!==n.prototype&&i(e,a),e}},"71b7":function(e,t,n){"use strict";n("5dec")},"7e05":function(e,t,n){e.exports=n.p+"static/img/3836b232d8838dd8f136ae642f2a653e.png"},"81e5":function(e,t,n){var o=n("8446");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},8363:function(e,t,n){"use strict";n.r(t);var o=n("7a23"),i=Object(o["I"])("data-v-38c35d05");Object(o["w"])("data-v-38c35d05");var r={class:"game-box"},a={class:"content"},s=Object(o["g"])("div",{class:"desc"},"失败了...",-1),c={class:"operation"},l={class:"content"},u={class:"large"},d={class:"operation"};Object(o["u"])();var f=i((function(e,t,n,i,f,p){var v=Object(o["A"])("stage"),g=Object(o["A"])("score-button"),m=Object(o["A"])("gravity-controller");return Object(o["t"])(),Object(o["f"])("section",r,[Object(o["g"])(v,{key:f.stageKey,ref:"stage",gameEnd:f.gameEnd,config:f.config,gravity:f.gravity,debug:1==e.$route.query.debug,cheat:1==e.$route.query.cheat,getRandom:p.getRandom,"onUpdate:score":t[1]||(t[1]=function(e){return f.score=e}),"onUpdate:currentMaxObject":t[2]||(t[2]=function(e){return f.currentMaxObject=e}),onDie:p.endGame},null,8,["gameEnd","config","gravity","debug","cheat","getRandom","onDie"]),Object(o["g"])(g,{class:"score-btn",score:f.score,showEnd:!p.faild,onEnd:p.endGame,onRank:p.toRank},null,8,["score","showEnd","onEnd","onRank"]),Object(o["g"])(m,{class:"gravity-btn",onGravity:t[3]||(t[3]=function(e){return f.gravity=e})}),Object(o["g"])("div",{class:["faild",{show:f.showFaild}]},[Object(o["g"])("div",a,[Object(o["g"])("h1",null,Object(o["C"])(f.score),1),s,Object(o["G"])(Object(o["g"])("div",c,[Object(o["g"])("button",{onClick:t[4]||(t[4]=function(){return p.reload&&p.reload.apply(p,arguments)})},"再来一次"),Object(o["g"])("button",{onClick:t[5]||(t[5]=function(){return p.toRank&&p.toRank.apply(p,arguments)})},"查看排行")],512),[[o["E"],f.showOperation]])])],2),Object(o["g"])("div",{class:["success",{show:f.showSuccess}]},[Object(o["g"])("div",l,[Object(o["g"])("div",u,[Object(o["g"])("img",{src:f.config[f.currentMaxObject].imgurl},null,8,["src"])]),Object(o["g"])("h1",null,Object(o["C"])(f.score),1),Object(o["G"])(Object(o["g"])("div",d,[Object(o["g"])("button",{onClick:t[6]||(t[6]=function(){return p.reload&&p.reload.apply(p,arguments)})},"再来一次"),Object(o["g"])("button",{onClick:t[7]||(t[7]=function(){return p.toRank&&p.toRank.apply(p,arguments)})},"查看排行")],512),[[o["E"],f.showOperation]])])],2)])})),p=(n("68ef"),n("d4ef"),n("cb51"),n("3743"),n("e3b3"),n("bc1b"),n("1703"),n("a71a"),n("4d75"),n("2fcb"),n("c31d")),v=n("db17");function g(e){var t=Object(o["i"])();t&&Object(p["a"])(t.proxy,e)}function m(){var e=Object(o["x"])({show:!1}),t=function(t){e.show=t},n=function(n){Object(p["a"])(e,n),Object(o["n"])((function(){t(!0)}))},i=function(){t(!1)};return g({open:n,close:i,toggle:t}),{open:n,close:i,state:e,toggle:t}}function h(e){var t=Object(o["e"])(e),n=document.createElement("div");return document.body.appendChild(n),{instance:t.mount(n),unmount:function(){t.unmount(n),document.body.removeChild(n)}}}function y(e){var t=e.interceptor,n=e.args,o=e.done,i=e.canceled;if(t){var r=t.apply(null,n||[]);Object(v["f"])(r)?r.then((function(e){e?o():i&&i()})).catch(v["g"]):r?o():i&&i()}else o()}var b=n("d282"),x=n("ea8e"),w=n("b1d2");function S(e){var t;Object(o["r"])((function(){e(),Object(o["n"])((function(){t=!0}))})),Object(o["o"])((function(){t&&e()}))}var O=n("22d1"),A=!1;if(O["a"])try{var C={};Object.defineProperty(C,"passive",{get:function(){A=!0}}),window.addEventListener("test-passive",null,C)}catch(Dt){}function j(e,t,n){if(void 0===n&&(n={}),O["a"]){var i,r=n,a=r.target,s=void 0===a?window:a,c=r.passive,l=void 0!==c&&c,u=r.capture,d=void 0!==u&&u,f=function(){var n=Object(o["D"])(s);n&&!i&&(n.addEventListener(e,t,A?{capture:d,passive:l}:d),i=!0)},p=function(){var n=Object(o["D"])(s);n&&i&&(n.removeEventListener(e,t,d),i=!1)};Object(o["s"])(p),Object(o["q"])(p),S(f)}}var k=/scroll|auto/i;function P(e){var t=1;return"HTML"!==e.tagName&&"BODY"!==e.tagName&&e.nodeType===t}function B(e,t){void 0===t&&(t=window);var n=e;while(n&&n!==t&&P(n)){var o=window.getComputedStyle(n),i=o.overflowY;if(k.test(i))return n;n=n.parentNode}return t}var M=10;function I(e,t){return e>t&&e>M?"horizontal":t>e&&t>M?"vertical":""}function _(){var e=Object(o["y"])(0),t=Object(o["y"])(0),n=Object(o["y"])(0),i=Object(o["y"])(0),r=Object(o["y"])(0),a=Object(o["y"])(0),s=Object(o["y"])(""),c=function(){return"vertical"===s.value},l=function(){return"horizontal"===s.value},u=function(){n.value=0,i.value=0,r.value=0,a.value=0,s.value=""},d=function(n){u(),e.value=n.touches[0].clientX,t.value=n.touches[0].clientY},f=function(o){var c=o.touches[0];n.value=c.clientX-e.value,i.value=c.clientY-t.value,r.value=Math.abs(n.value),a.value=Math.abs(i.value),s.value||(s.value=I(r.value,a.value))};return{move:f,start:d,reset:u,startX:e,startY:t,deltaX:n,deltaY:i,offsetX:r,offsetY:a,direction:s,isVertical:c,isHorizontal:l}}function T(e){e.stopPropagation()}function R(e,t){("boolean"!==typeof e.cancelable||e.cancelable)&&e.preventDefault(),t&&T(e)}var E=0,N="van-overflow-hidden";function W(e,t){var n=_(),o=function(t){n.move(t);var o=n.deltaY.value>0?"10":"01",i=B(t.target,e.value),r=i.scrollHeight,a=i.offsetHeight,s=i.scrollTop,c="11";0===s?c=a>=r?"00":"01":s+a>=r&&(c="10"),"11"===c||!n.isVertical()||parseInt(c,2)&parseInt(o,2)||R(t,!0)},i=function(){t()&&(document.addEventListener("touchstart",n.start),document.addEventListener("touchmove",o,!!A&&{passive:!1}),E||document.body.classList.add(N),E++)},r=function(){t()&&E&&(document.removeEventListener("touchstart",n.start),document.removeEventListener("touchmove",o),E--,E||document.body.classList.remove(N))};return[i,r]}function L(e){var t=Object(o["y"])(!1);return Object(o["F"])(e,(function(e){e&&(t.value=e)}),{immediate:!0}),function(e){return function(){return t.value?e():null}}}var F=n("ad06");function V(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["l"])(e)}var D=Object(b["a"])("overlay"),z=D[0],q=D[1],G=z({props:{show:Boolean,zIndex:[Number,String],duration:[Number,String],className:null,customStyle:Object,lockScroll:{type:Boolean,default:!0}},setup:function(e,t){var n=t.slots,i=L((function(){return e.show})),r=function(e){R(e,!0)},a=i((function(){var t=Object(p["a"])({zIndex:void 0!==e.zIndex?+e.zIndex:void 0},e.customStyle);return Object(v["c"])(e.duration)&&(t.animationDuration=e.duration+"s"),Object(o["G"])(Object(o["g"])("div",{style:t,class:[q(),e.className],onTouchmove:e.lockScroll?r:v["g"]},[null==n.default?void 0:n.default()]),[[o["E"],e.show]])}));return function(){var e;return Object(o["g"])(o["c"],{name:"van-fade"},V(e=a())?e:{default:function(){return[e]}})}}});function H(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["l"])(e)}for(var U=Object(b["a"])("popup"),X=U[0],$=U[1],Y={zIndex:2e3,lockCount:0,stack:[],find:function(e){return this.stack.filter((function(t){return t.vm===e}))[0]}},K={show:Boolean,zIndex:[Number,String],duration:[Number,String],teleport:[String,Object],overlayStyle:Object,overlayClass:null,transitionAppear:Boolean,overlay:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},lazyRender:{type:Boolean,default:!0},closeOnClickOverlay:{type:Boolean,default:!0}},Q=X({inheritAttrs:!1,props:Object(p["a"])({},K,{round:Boolean,closeable:Boolean,transition:String,closeOnPopstate:Boolean,safeAreaInsetBottom:Boolean,position:{type:String,default:"center"},closeIcon:{type:String,default:"cross"},closeIconPosition:{type:String,default:"top-right"}}),emits:["open","close","click","opened","closed","update:show","click-overlay","click-close-icon"],setup:function(e,t){var n,i,r=t.emit,a=t.attrs,s=t.slots,c=Object(o["y"])(),l=Object(o["y"])(),u=W(l,(function(){return e.lockScroll})),d=u[0],f=u[1],p=L((function(){return e.show||!e.lazyRender})),m=Object(o["d"])((function(){var t={zIndex:c.value};if(Object(v["c"])(e.duration)){var n="center"===e.position?"animationDuration":"transitionDuration";t[n]=e.duration+"s"}return t})),h=function(){n||(void 0!==e.zIndex&&(Y.zIndex=e.zIndex),n=!0,d(),c.value=++Y.zIndex)},y=function(){n&&(n=!1,f(),r("update:show",!1))},b=function(){r("click-overlay"),e.closeOnClickOverlay&&y()},x=function(){if(e.overlay)return Object(o["g"])(G,{show:e.show,class:e.overlayClass,zIndex:c.value,duration:e.duration,customStyle:e.overlayStyle,onClick:b},null)},w=function(e){r("click-close-icon",e),y()},S=function(){if(e.closeable)return Object(o["g"])(F["a"],{role:"button",tabindex:"0",name:e.closeIcon,class:$("close-icon",e.closeIconPosition),onClick:w},null)},O=function(e){return r("click",e)},A=function(){return r("opened")},C=function(){return r("closed")},k=p((function(){var t,n=e.round,i=e.position,r=e.safeAreaInsetBottom;return Object(o["G"])(Object(o["g"])("div",Object(o["m"])({ref:l,style:m.value,class:$((t={round:n},t[i]=i,t["safe-area-inset-bottom"]=r,t)),onClick:O},a),[null==s.default?void 0:s.default(),S()]),[[o["E"],e.show]])})),P=function(){var t,n=e.position,i=e.transition,r=e.transitionAppear,a="center"===n?"van-fade":"van-popup-slide-"+n;return Object(o["g"])(o["c"],{name:i||a,appear:r,onAfterEnter:A,onAfterLeave:C},H(t=k())?t:{default:function(){return[t]}})};return Object(o["F"])((function(){return e.show}),(function(e){e?(h(),r("open")):(y(),r("close"))})),g({popupRef:l}),j("popstate",(function(){e.closeOnPopstate&&(y(),i=!1)})),Object(o["r"])((function(){e.show&&h()})),Object(o["o"])((function(){i&&(r("update:show",!0),i=!1)})),Object(o["q"])((function(){e.show&&(y(),i=!0)})),Object(o["p"])((function(){n&&f()})),function(){return e.teleport?Object(o["g"])(o["b"],{to:e.teleport},{default:function(){return[x(),P()]}}):Object(o["g"])(o["a"],null,[x(),P()])}}}),Z=n("b070"),J=Object(b["a"])("loading"),ee=J[0],te=J[1],ne=[],oe=0;oe<12;oe++)ne.push(Object(o["g"])("i",null,null));var ie=Object(o["g"])("svg",{class:te("circular"),viewBox:"25 25 50 50"},[Object(o["g"])("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),re=ee({props:{size:[Number,String],color:String,vertical:Boolean,textSize:[Number,String],textColor:String,type:{type:String,default:"circular"}},setup:function(e,t){var n=t.slots,i=Object(o["d"])((function(){return Object(p["a"])({color:e.color},Object(x["b"])(e.size))})),r=function(){var t;if(n.default)return Object(o["g"])("span",{class:te("text"),style:{fontSize:Object(x["a"])(e.textSize),color:null!=(t=e.textColor)?t:e.color}},[n.default()])};return function(){var t=e.type,n=e.vertical;return Object(o["g"])("div",{class:te([t,{vertical:n}])},[Object(o["g"])("span",{class:te("spinner",t),style:i.value},["spinner"===t?ne:ie]),r()])}}});function ae(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["l"])(e)}var se=Object(b["a"])("button"),ce=se[0],le=se[1],ue=ce({props:Object(p["a"])({},Z["a"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},nativeType:{type:String,default:"button"},loadingSize:{type:String,default:"20px"},iconPosition:{type:String,default:"left"}}),emits:["click"],setup:function(e,t){var n=t.emit,i=t.slots,r=Object(Z["b"])(),a=function(){return i.loading?i.loading():Object(o["g"])(re,{class:le("loading"),size:e.loadingSize,type:e.loadingType,color:"currentColor"},null)},s=function(){return e.loading?a():e.icon?Object(o["g"])(F["a"],{name:e.icon,class:le("icon"),classPrefix:e.iconPrefix},null):void 0},c=function(){var t;if(t=e.loading?e.loadingText:i.default?i.default():e.text,t)return Object(o["g"])("span",{class:le("text")},ae(t)?t:{default:function(){return[t]}})},l=function(){var t=e.color,n=e.plain;if(t){var o={};return o.color=n?t:"white",n||(o.background=t),-1!==t.indexOf("gradient")?o.border=0:o.borderColor=t,o}},u=function(t){e.loading&&t.preventDefault(),e.loading||e.disabled||(n("click",t),r())};return function(){var t,n,i=e.tag,r=e.type,a=e.size,d=e.block,f=e.round,p=e.plain,v=e.square,g=e.loading,m=e.disabled,h=e.hairline,y=e.nativeType,b=e.iconPosition,x=[le([r,a,{plain:p,block:d,round:f,square:v,loading:g,disabled:m,hairline:h}]),(n={},n[w["c"]]=h,n)];return Object(o["g"])(i,{type:y,class:x,style:l(),disabled:m,onClick:u},ae(t=Object(o["g"])("div",{class:le("content")},["left"===b&&s(),c(),"right"===b&&s()]))?t:{default:function(){return[t]}})}}});function de(e){var t=[],n=function e(n){Array.isArray(n)&&n.forEach((function(n){var i;Object(o["l"])(n)&&(t.push(n),null!=(i=n.component)&&i.subTree&&e(n.component.subTree.children),n.children&&e(n.children))}))};return n(e),t}function fe(e,t,n){var o=de(e.subTree.children);n.sort((function(e,t){return o.indexOf(e.vnode)-o.indexOf(t.vnode)}));var i=n.map((function(e){return e.proxy}));t.sort((function(e,t){var n=i.indexOf(e),o=i.indexOf(t);return n-o}))}function pe(e){var t=Object(o["x"])([]),n=Object(o["x"])([]),i=Object(o["i"])(),r=function(r){var a=function(e){e.proxy&&(n.push(e),t.push(e.proxy),fe(i,t,n))},s=function(e){var o=n.indexOf(e);t.splice(o,1),n.splice(o,1)};Object(o["v"])(e,Object(p["a"])({link:a,unlink:s,children:t,internalChildren:n},r))};return{children:t,linkChildren:r}}var ve=Object(b["a"])("action-bar"),ge=ve[0],me=ve[1],he="vanActionBar",ye=ge({props:{safeAreaInsetBottom:{type:Boolean,default:!0}},setup:function(e,t){var n=t.slots,i=pe(he),r=i.linkChildren;return r(),function(){return Object(o["g"])("div",{class:me({unfit:!e.safeAreaInsetBottom})},[null==n.default?void 0:n.default()])}}});n("c975"),n("b64b");function be(e,t){if(null==e)return{};var n,o,i={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(i[n]=e[n]);return i}function xe(e){var t=Object(o["k"])(e,null);if(t){var n=Object(o["i"])();if(n){var i=t.link,r=t.unlink,a=t.internalChildren,s=be(t,["link","unlink","internalChildren"]);i(n),Object(o["s"])((function(){r(n)}));var c=Object(o["d"])((function(){return a.indexOf(n)}));return{parent:s,index:c}}}return{}}var we=Object(b["a"])("action-bar-button"),Se=we[0],Oe=we[1],Ae=Se({props:Object(p["a"])({},Z["a"],{type:String,text:String,icon:String,color:String,loading:Boolean,disabled:Boolean}),setup:function(e,t){var n=t.slots,i=Object(Z["b"])(),r=xe(he),a=r.parent,s=r.index,c=Object(o["d"])((function(){if(a){var e=a.children[s.value-1];return!(e&&"isButton"in e)}})),l=Object(o["d"])((function(){if(a){var e=a.children[s.value+1];return!(e&&"isButton"in e)}}));return g({isButton:!0}),function(){var t=e.type,r=e.icon,a=e.text,s=e.color,u=e.loading,d=e.disabled;return Object(o["g"])(ue,{class:Oe([t,{last:l.value,first:c.value}]),size:"large",type:t,icon:r,color:s,loading:u,disabled:d,onClick:i},{default:function(){return[n.default?n.default():a]}})}}});function Ce(e){return"function"===typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Object(o["l"])(e)}var je,ke=Object(b["a"])("dialog"),Pe=ke[0],Be=ke[1],Me=ke[2],Ie=[].concat(Object.keys(K),["transition","closeOnPopstate"]),_e=Pe({props:Object(p["a"])({},K,{title:String,theme:String,width:[Number,String],message:String,callback:Function,allowHtml:Boolean,className:null,beforeClose:Function,messageAlign:String,showCancelButton:Boolean,cancelButtonText:String,cancelButtonColor:String,confirmButtonText:String,confirmButtonColor:String,closeOnClickOverlay:Boolean,transition:{type:String,default:"van-dialog-bounce"},showConfirmButton:{type:Boolean,default:!0},closeOnPopstate:{type:Boolean,default:!0}}),emits:["confirm","cancel","update:show"],setup:function(e,t){var n=t.emit,i=t.slots,r=Object(o["x"])({confirm:!1,cancel:!1}),a=function(e){n("update:show",e)},s=function(t){a(!1),e.callback&&e.callback(t)},c=function(t){e.show&&(n(t),e.beforeClose?(r[t]=!0,y({interceptor:e.beforeClose,args:[t],done:function(){s(t),r[t]=!1},canceled:function(){r[t]=!1}})):s(t))},l=function(){var t=i.title?i.title():e.title;if(t)return Object(o["g"])("div",{class:Be("header",{isolated:!e.message&&!i.default})},Ce(t)?t:{default:function(){return[t]}})},u=function(){if(i.default)return Object(o["g"])("div",{class:Be("content")},[i.default()]);var t=e.title,n=e.message,r=e.allowHtml,a=e.messageAlign;if(n){var s,c,l=t||i.title;return Object(o["g"])("div",{key:r?1:0,class:Be("content",{isolated:!l})},[Object(o["g"])("div",Object(o["m"])({class:Be("message",(s={"has-title":l},s[a]=a,s))},(c={},c[r?"innerHTML":"textContent"]=n,c)),null)])}},d=function(){var t;return Object(o["g"])("div",{class:[w["d"],Be("footer")]},[e.showCancelButton&&Object(o["g"])(ue,{size:"large",text:e.cancelButtonText||Me("cancel"),class:Be("cancel"),style:{color:e.cancelButtonColor},loading:r.cancel,onClick:function(){c("cancel")}},null),e.showConfirmButton&&Object(o["g"])(ue,{size:"large",text:e.confirmButtonText||Me("confirm"),class:[Be("confirm"),(t={},t[w["b"]]=e.showCancelButton,t)],style:{color:e.confirmButtonColor},loading:r.confirm,onClick:function(){c("confirm")}},null)])},f=function(){return Object(o["g"])(ye,{class:Be("footer")},{default:function(){return[e.showCancelButton&&Object(o["g"])(Ae,{size:"large",type:"warning",text:e.cancelButtonText||Me("cancel"),class:Be("cancel"),color:e.cancelButtonColor,loading:r.cancel,onClick:function(){c("cancel")}},null),e.showConfirmButton&&Object(o["g"])(Ae,{size:"large",type:"danger",text:e.confirmButtonText||Me("confirm"),class:Be("confirm"),color:e.confirmButtonColor,loading:r.confirm,onClick:function(){c("confirm")}},null)]}})};return function(){var t=e.width,n=e.title,i=e.theme,r=e.message,s=e.className;return Object(o["g"])(Q,Object(o["m"])({role:"dialog",class:[Be([i]),s],style:{width:Object(x["a"])(t)},"aria-labelledby":n||r},Object(p["a"])({},Object(v["h"])(e,Ie),{"onUpdate:show":a})),{default:function(){return[l(),u(),"round-button"===i?f():d()]}})}}});function Te(){var e={setup:function(){var e=m(),t=e.state,n=e.toggle;return function(){return Object(o["g"])(_e,Object(p["a"])({},t,{"onUpdate:show":n}),null)}}},t=h(e);je=t.instance}function Re(e){return v["b"]?new Promise((function(t,n){je||Te(),je.open(Object(p["a"])({},Re.currentOptions,e,{callback:function(e){("confirm"===e?t:n)(e)}}))})):Promise.resolve()}Re.defaultOptions={title:"",width:"",theme:null,message:"",overlay:!0,callback:null,teleport:"body",className:"",allowHtml:!1,lockScroll:!0,transition:"van-dialog-bounce",beforeClose:null,overlayClass:"",overlayStyle:null,messageAlign:"",cancelButtonText:"",cancelButtonColor:null,confirmButtonText:"",confirmButtonColor:null,showConfirmButton:!0,showCancelButton:!1,closeOnPopstate:!0,closeOnClickOverlay:!1},Re.alert=Re,Re.confirm=function(e){return Re(Object(p["a"])({showCancelButton:!0},e))},Re.close=function(){je&&je.toggle(!1)},Re.setDefaultOptions=function(e){Object(p["a"])(Re.currentOptions,e)},Re.resetDefaultOptions=function(){Re.currentOptions=Object(p["a"])({},Re.defaultOptions)},Re.resetDefaultOptions(),Re.install=function(e){e.use(_e),e.config.globalProperties.$dialog=Re},Re.Component=_e;var Ee,Ne,We=Re,Le=(n("96cf"),n("1da1")),Fe=(n("872c"),Object(b["a"])("notify")),Ve=Fe[0],De=Fe[1],ze=Ve({props:Object(p["a"])({},K,{color:String,message:[Number,String],className:null,background:String,type:{type:String,default:"danger"}}),setup:function(e,t){var n=t.slots;return function(){var t={color:e.color,background:e.background};return Object(o["g"])(Q,{show:e.show,class:[De([e.type]),e.className],style:t,overlay:!1,position:"top",duration:.2,lockScroll:!1},{default:function(){return[n.default?n.default():e.message]}})}}});function qe(e){return Object(v["e"])(e)?e:{message:e}}function Ge(){var e=h({setup:function(){var e=m(),t=e.state,n=e.toggle;return function(){return Object(o["g"])(ze,Object(p["a"])({},t,{"onUpdate:show":n}),null)}}});Ne=e.instance}function He(e){if(v["b"])return Ne||Ge(),e=Object(p["a"])({},He.currentOptions,qe(e)),Ne.open(e),clearTimeout(Ee),e.duration>0&&(Ee=setTimeout(He.clear,e.duration)),Ne}function Ue(){return{type:"danger",color:void 0,message:"",onClose:null,onClick:null,onOpened:null,duration:3e3,className:"",background:void 0}}He.clear=function(){Ne&&Ne.toggle(!1)},He.currentOptions=Ue(),He.setDefaultOptions=function(e){Object(p["a"])(He.currentOptions,e)},He.resetDefaultOptions=function(){He.currentOptions=Ue()},He.install=function(e){e.use(ze),e.config.globalProperties.$notify=He},He.Component=ze;var Xe=He,$e=n("c1c5"),Ye=n.n($e),Ke=n("81e5"),Qe=n.n(Ke),Ze=n("619a"),Je=n.n(Ze),et=n("33b2"),tt=n.n(et),nt=n("4660"),ot=n.n(nt),it=n("97ca"),rt=n.n(it),at=n("8efd"),st=n.n(at),ct=n("570d"),lt=n.n(ct),ut=n("0768"),dt=n.n(ut),ft=n("5f7f"),pt=n.n(ft),vt=n("66a3"),gt=n.n(vt),mt=n("0958"),ht=n.n(mt),yt=function(){return[{size:52*.56,imgurl:Ye.a,imgwidth:Ye.a.asset.imageObject.width,score:1},{size:80*.56,imgurl:Qe.a,imgwidth:Qe.a.asset.imageObject.width,score:2},{size:108*.56,imgurl:Je.a,imgwidth:Je.a.asset.imageObject.width,score:4},{size:66.64,imgurl:tt.a,imgwidth:tt.a.asset.imageObject.width,score:8},{size:85.12,imgurl:ot.a,imgwidth:ot.a.asset.imageObject.width,score:16},{size:102.48,imgurl:rt.a,imgwidth:rt.a.asset.imageObject.width,score:32},{size:193*.56,imgurl:st.a,imgwidth:st.a.asset.imageObject.width,score:64},{size:258*.56,imgurl:lt.a,imgwidth:lt.a.asset.imageObject.width,score:128},{size:308*.56,imgurl:dt.a,imgwidth:dt.a.asset.imageObject.width,score:256},{size:358*.56,imgurl:pt.a,imgwidth:pt.a.asset.imageObject.width,score:512},{size:408*.56,imgurl:gt.a,imgwidth:gt.a.asset.imageObject.width,score:1024},{size:408*.56,imgurl:ht.a,imgwidth:ht.a.asset.imageObject.width,score:2048}]},bt=n("0f40"),xt=n.n(bt),wt=Object(o["I"])("data-v-762783e7"),St=wt((function(e,t,n,i,r,a){return Object(o["t"])(),Object(o["f"])("section",{class:"game",style:{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")},onTouchmove:t[1]||(t[1]=Object(o["H"])((function(){return a.processMove&&a.processMove.apply(a,arguments)}),["prevent","stop"])),onMousemove:t[2]||(t[2]=function(){return a.processMove&&a.processMove.apply(a,arguments)}),onMouseup:t[3]||(t[3]=function(){return a.processClick&&a.processClick.apply(a,arguments)}),onTouchend:t[4]||(t[4]=function(){return a.processClick&&a.processClick.apply(a,arguments)})},[Object(o["g"])("div",{class:["warn",{show:r.showWarn}]},null,2),Object(o["g"])("section",{class:"stage",ref:"stage",style:{width:"".concat(n.width,"px"),height:"".concat(n.height,"px")}},null,4)],36)})),Ot=(n("a9e3"),n("d3b7"),n("b85c")),At=n("b047"),Ct=n.n(At),jt=n("b8bf");function kt(e){return new Promise((function(t){return setTimeout(t,e)}))}var Pt={emits:["die","update:currentMaxObject","update:score"],props:{width:{type:Number,default:document.body.offsetWidth},height:{type:Number,default:document.body.offsetHeight},config:{type:Array,default:function(){return[]}},gameEnd:{type:Boolean,default:!1},createDelay:{type:Number,default:500},cheat:{type:Boolean,default:!1},debug:{type:Boolean,default:!1},groundColor:{type:String,default:"#003298"},gravity:{type:Object,default:function(){return{x:0,y:1}}},getRandom:{type:Function,default:function(){return 0}}},data:function(){return{score:0,showWarn:!1,latast:0,dyingCounter:0,currentMaxObject:0}},computed:{renderWidth:function(){return 2*this.width},renderHeight:function(){return 2*this.height}},watch:{dyingCounter:function(e){e>50&&this.$emit("die")},gravity:{handler:function(e){this._engine.world.gravity.x=e.x||0,this._engine.world.gravity.y=e.y||1},deep:!0}},methods:{processMove:function(e){if(this.gameEnd)return!1;if(this._mouseConstraint){var t=!this._mouseConstraint.body||this._mouseConstraint.body.isStatic;if(!t)return}var n=this._objects[this.latest],o=this.config[n.label].size,i=e.touches?e.touches[0].offsetX||e.touches[0].pageX:e.offsetX;i<o/2?i=o/2:this.width-i<o/2&&(i=this.width-o/2),jt["Body"].setPosition(n,{x:2*i,y:this._objects[this.latest].position.y})},processClick:function(){var e=this;return Object(Le["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.gameEnd){t.next=2;break}return t.abrupt("return",!1);case 2:if(!e._mouseConstraint){t.next=6;break}if(n=!e._mouseConstraint.body||e._mouseConstraint.body.isStatic,n){t.next=6;break}return t.abrupt("return");case 6:if(!e.sleep){t.next=8;break}return t.abrupt("return");case 8:return e.addFalling(e.latest),e.sleep=!0,t.next=12,kt(e.createDelay);case 12:e.addObject(e.getRandom()),e.sleep=!1;case 14:case"end":return t.stop()}}),t)})))()},addScore:function(e){var t=this;return Object(Le["a"])(regeneratorRuntime.mark((function n(){var o,i,r;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,kt(300);case 2:o=Object(Ot["a"])(t._objects),n.prev=3,o.s();case 5:if((i=o.n()).done){n.next=16;break}if(r=i.value,r.__destroyed){n.next=14;break}if(t.score+=t.config[r.label].score,t.$emit("update:score",t.score),!e){n.next=14;break}return jt["World"].remove(t._engine.world,r),n.next=14,kt(100);case 14:n.next=5;break;case 16:n.next=21;break;case 18:n.prev=18,n.t0=n["catch"](3),o.e(n.t0);case 21:return n.prev=21,o.f(),n.finish(21);case 24:return n.abrupt("return",t.score);case 25:case"end":return n.stop()}}),n,null,[[3,18,21,24]])})))()},addGround:function(){var e=jt["Bodies"].rectangle(this.renderWidth/2-2.5,0,this.renderWidth+10,1,{isStatic:!0,render:{fillStyle:this.groundColor},label:"GROUND"}),t=jt["Bodies"].rectangle(this.renderWidth/2-2.5,this.renderHeight-60,this.renderWidth+10,120,{isStatic:!0,render:{fillStyle:this.groundColor},label:"GROUND"}),n=jt["Bodies"].rectangle(0,this.renderHeight/2,1,this.renderHeight,{isStatic:!0,label:"GROUND"}),o=jt["Bodies"].rectangle(this.renderWidth,this.renderHeight/2,1,this.renderHeight,{isStatic:!0,label:"GROUND"}),i=jt["Bodies"].rectangle(this.renderWidth/2-2.5,70,this.renderWidth+10,140,{isStatic:!0,label:"TOP",isSensor:!0,render:{opacity:0}}),r=jt["Bodies"].rectangle(this.renderWidth/2-2.5,240,this.renderWidth+10,2,{isStatic:!0,render:{opacity:0},label:"WARN",isSensor:!0});jt["World"].add(this._engine.world,[n,o,i,t,r,e])},addCheat:function(){var e=jt["Mouse"].create(this._render.canvas),t=jt["MouseConstraint"].create(this._engine,{mouse:e,constraint:{stiffness:.1,render:{visible:!0}}});jt["World"].add(this._engine.world,t),this._mouseConstraint=t},getRender:function(e){var t=this.config[e];return{sprite:{texture:t.imgurl,xScale:2*t.size/t.imgwidth,yScale:2*t.size/t.imgwidth}}},addToWorld:function(e){return jt["World"].add(this._engine.world,[e]),this._objects.push(e)-1},addObject:function(e,t){var n=this.config[e];if(n){var o=jt["Bodies"].circle(this.renderWidth/2,40+n.size/2,n.size,{isStatic:"undefined"===typeof t,restitution:.1,density:.03,label:e,render:this.getRender(e),position:t||{}}),i=this.addToWorld(o);return"undefined"===typeof t&&(this.latest=i),i}},addFalling:function(e){jt["Body"].setStatic(this._objects[e],!1)},processCollision:function(e){if(!this.gameEnd){var t,n=Object(Ot["a"])(e.pairs);try{for(n.s();!(t=n.n()).done;){var o=t.value;if(("TOP"==o.bodyA.label||"TOP"==o.bodyB.label)&&(1!=o.bodyA.isStatic||1!=o.bodyB.isStatic)){var i="TOP"==o.bodyA.label?o.bodyB:o.bodyA;i.speed<.5&&this.dyingCounter++}if(("WARN"==o.bodyA.label||"WARN"==o.bodyB.label)&&(1!=o.bodyA.isStatic||1!=o.bodyB.isStatic)){var r="WARN"==o.bodyA.label?o.bodyB:o.bodyA;r.speed<.5&&(this.showWarn=!0,this._hideWarn())}if(o.bodyA.label===o.bodyB.label&&(!o.bodyA.__destroyed&&!o.bodyB.__destroyed)){var a=(o.bodyA.position.x+o.bodyB.position.x)/2,s=(o.bodyA.position.y+o.bodyB.position.y)/2,c=o.bodyA.label+1,l=this.config[c];this.currentMaxObject=Math.max(c,this.currentMaxObject);var u=this.config.length;if(c==u)return;this.addObject(c,{x:a,y:s}),jt["World"].remove(this._engine.world,o.bodyA),jt["World"].remove(this._engine.world,o.bodyB),o.bodyA.__destroyed=!0,o.bodyB.__destroyed=!0,this.score+=l.score,this.$emit("update:currentMaxObject",this.currentMaxObject),this.$emit("update:score",this.score)}}}catch(d){n.e(d)}finally{n.f()}}},hideWarn:function(){this.showWarn=!1}},mounted:function(){this._hideWarn=Ct()(this.hideWarn.bind(this),2e3);var e=jt["Engine"].create(),t=jt["Render"].create({element:this.$refs.stage,engine:e,options:{showAngleIndicator:this.debug,wireframes:this.debug,width:this.renderWidth,height:this.renderHeight,background:"transparent"}});this._engine=e,this._render=t,this.addGround(),(this.cheat||this.debug)&&this.addCheat(),jt["Events"].on(e,"collisionActive",this.processCollision.bind(this)),this._objects=[],jt["Engine"].run(this._engine),jt["Render"].run(this._render),this.addObject(0)},unmounted:function(){jt["Runner"].stop(this._engine),jt["Render"].stop(this._render)}};n("6f55");Pt.render=St,Pt.__scopeId="data-v-762783e7";var Bt=Pt,Mt=Object(o["I"])("data-v-da792f3e");Object(o["w"])("data-v-da792f3e");var It={class:"sc"},_t={class:"score"};Object(o["u"])();var Tt=Mt((function(e,t,n,i,r,a){return Object(o["t"])(),Object(o["f"])("div",It,[Object(o["g"])("span",_t,Object(o["C"])(n.score),1),n.showEnd?(Object(o["t"])(),Object(o["f"])("a",{key:0,onClick:t[1]||(t[1]=function(t){return e.$emit("end")})}," 结束 ")):(Object(o["t"])(),Object(o["f"])("a",{key:1,onClick:t[2]||(t[2]=function(t){return e.$emit("rank")})}," 排行 "))])})),Rt={emits:["end","rank"],props:{score:{type:Number,default:0},showEnd:{type:Boolean,default:!1}}};n("de2a");Rt.render=Tt,Rt.__scopeId="data-v-da792f3e";var Et=Rt,Nt=Object(o["I"])("data-v-134060c8"),Wt=Nt((function(e,t,n,i,r,a){return Object(o["t"])(),Object(o["f"])("button",{onClick:t[1]||(t[1]=function(){return a.switchGravity&&a.switchGravity.apply(a,arguments)})},"重力感应："+Object(o["C"])(r.enabled?"开":"关"),1)})),Lt={emits:["gravity"],data:function(){return{needPermission:"undefined"!==typeof DeviceOrientationEvent&&"function"===typeof DeviceOrientationEvent.requestPermission,enabled:!1,requested:!1}},methods:{switchGravity:function(){var e=this;return Object(Le["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.needPermission||e.requested){t.next=13;break}return t.prev=1,t.next=4,DeviceOrientationEvent.requestPermission();case 4:n=t.sent,"granted"===n?(e.listenGravity(),e.enabled=!0):Xe({type:"warning",message:"无法启用重力感应，可能是您未授权或设备不支持："+n}),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](1),Xe({type:"warning",message:"无法启用重力感应，可能是您未授权或设备不支持："+t.t0.message});case 11:t.next=14;break;case 13:e.enabled=!e.enabled;case 14:case"end":return t.stop()}}),t,null,[[1,8]])})))()},listenGravity:function(){window.addEventListener("deviceorientation",this._listener,!1),this.requested=!0,this.enabled=!0}},mounted:function(){var e=this;this._listener=function(t){var n,o;t.beta&&e.enabled?(n=1.1*Math.sin(t.gamma*Math.PI/180),o=1.1*Math.sin(Math.PI/4+t.beta*Math.PI/180)):(n=0,o=1),e.$emit("gravity",{x:n,y:o})},this.needPermission||this.listenGravity()},unmounted:function(){window.removeEventListener("deviceorientation",this._listener)}};n("71b7");Lt.render=Wt,Lt.__scopeId="data-v-134060c8";var Ft=Lt,Vt={components:{Stage:Bt,ScoreButton:Et,GravityController:Ft},data:function(){var e=yt();return{config:e,score:0,stageKey:0,currentMaxObject:0,showOperation:!1,showSuccess:!1,showFaild:!1,gameEnd:!1,gravity:{x:0,y:1},successKey:e.length-2}},computed:{faild:function(){return this.currentMaxObject<this.successKey}},watch:{currentMaxObject:function(e){e===this.successKey?Xe({type:"success",message:"恭喜通关！继续合成有惊喜哦！"}):e>this.successKey&&Xe({type:"success",message:"恭喜解锁惊喜！你可以继续刷分，也可以在左上角结束游戏"})}},methods:{toRank:function(){var e=this;return Object(Le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.gameEnd||!(e.score>10)){t.next=9;break}return t.prev=1,t.next=4,We.confirm({title:"是否要离开游戏？",message:"您的分数和进度将会丢失"});case 4:t.next=9;break;case 6:return t.prev=6,t.t0=t["catch"](1),t.abrupt("return");case 9:e.$router.push({name:"Rank"});case 10:case"end":return t.stop()}}),t,null,[[1,6]])})))()},endGame:function(){var e=this;return Object(Le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.gameEnd=!0,e.faild?e.showFaild=!0:e.showSuccess=!0,t.next=4,e.$refs.stage.addScore(e.faild);case 4:e.showOperation=!0;case 5:case"end":return t.stop()}}),t)})))()},reload:function(){var e=this;return Object(Le["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.stageKey++,e.score=0,e.gameEnd=!1,e.showFaild=!1,e.showSuccess=!1,e.currentMaxObject=0;case 6:case"end":return t.stop()}}),t)})))()},getRandom:function(){var e=xt()(100,200);return e<130||0==this.currentMaxObject?0:e<160||1==this.currentMaxObject?1:e<175||2==this.currentMaxObject?2:e<190||3==this.currentMaxObject?3:4}},created:function(){}};n("a361");Vt.render=f,Vt.__scopeId="data-v-38c35d05";t["default"]=Vt},8446:function(e,t,n){e.exports=n.p+"static/img/b07bf27a25db16e813ac0e95d55de372.png"},"872c":function(e,t,n){},"8da5":function(e,t,n){e.exports=n.p+"static/img/98d3694b39da235e77695b6aa2e37cee.png"},"8efd":function(e,t,n){var o=n("3517");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"91c3":function(e,t,n){e.exports=n.p+"static/img/939110ebf315aac888187a30532ce69f.png"},9520:function(e,t,n){var o=n("3729"),i=n("1a8c"),r="[object AsyncFunction]",a="[object Function]",s="[object GeneratorFunction]",c="[object Proxy]";function l(e){if(!i(e))return!1;var t=o(e);return t==a||t==s||t==r||t==c}e.exports=l},9638:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},"97ca":function(e,t,n){var o=n("dedd");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},"9aff":function(e,t,n){var o=n("9638"),i=n("30c9"),r=n("c098"),a=n("1a8c");function s(e,t,n){if(!a(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&r(t,n.length):"string"==s&&t in n)&&o(n[t],e)}e.exports=s},"9e69":function(e,t,n){var o=n("2b3e"),i=o.Symbol;e.exports=i},a361:function(e,t,n){"use strict";n("c569")},a71a:function(e,t,n){},a9e3:function(e,t,n){"use strict";var o=n("83ab"),i=n("da84"),r=n("94ca"),a=n("6eeb"),s=n("5135"),c=n("c6b6"),l=n("7156"),u=n("c04e"),d=n("d039"),f=n("7c73"),p=n("241c").f,v=n("06cf").f,g=n("9bf2").f,m=n("58a8").trim,h="Number",y=i[h],b=y.prototype,x=c(f(b))==h,w=function(e){var t,n,o,i,r,a,s,c,l=u(e,!1);if("string"==typeof l&&l.length>2)if(l=m(l),t=l.charCodeAt(0),43===t||45===t){if(n=l.charCodeAt(2),88===n||120===n)return NaN}else if(48===t){switch(l.charCodeAt(1)){case 66:case 98:o=2,i=49;break;case 79:case 111:o=8,i=55;break;default:return+l}for(r=l.slice(2),a=r.length,s=0;s<a;s++)if(c=r.charCodeAt(s),c<48||c>i)return NaN;return parseInt(r,o)}return+l};if(r(h,!y(" 0o1")||!y("0b1")||y("+0x1"))){for(var S,O=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof O&&(x?d((function(){b.valueOf.call(n)})):c(n)!=h)?l(new y(w(t)),n,O):w(t)},A=o?p(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger,fromString,range".split(","),C=0;A.length>C;C++)s(y,S=A[C])&&!s(O,S)&&g(O,S,v(y,S));O.prototype=b,b.constructor=O,a(i,h,O)}},b047:function(e,t,n){var o=n("1a8c"),i=n("408c"),r=n("b4b0"),a="Expected a function",s=Math.max,c=Math.min;function l(e,t,n){var l,u,d,f,p,v,g=0,m=!1,h=!1,y=!0;if("function"!=typeof e)throw new TypeError(a);function b(t){var n=l,o=u;return l=u=void 0,g=t,f=e.apply(o,n),f}function x(e){return g=e,p=setTimeout(O,t),m?b(e):f}function w(e){var n=e-v,o=e-g,i=t-n;return h?c(i,d-o):i}function S(e){var n=e-v,o=e-g;return void 0===v||n>=t||n<0||h&&o>=d}function O(){var e=i();if(S(e))return A(e);p=setTimeout(O,w(e))}function A(e){return p=void 0,y&&l?b(e):(l=u=void 0,f)}function C(){void 0!==p&&clearTimeout(p),g=0,l=v=u=p=void 0}function j(){return void 0===p?f:A(i())}function k(){var e=i(),n=S(e);if(l=arguments,u=this,v=e,n){if(void 0===p)return x(v);if(h)return clearTimeout(p),p=setTimeout(O,t),b(v)}return void 0===p&&(p=setTimeout(O,t)),f}return t=r(t)||0,o(n)&&(m=!!n.leading,h="maxWait"in n,d=h?s(r(n.maxWait)||0,t):d,y="trailing"in n?!!n.trailing:y),k.cancel=C,k.flush=j,k}e.exports=l},b218:function(e,t){var n=9007199254740991;function o(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}e.exports=o},b4b0:function(e,t,n){var o=n("1a8c"),i=n("ffd6"),r=NaN,a=/^\s+|\s+$/g,s=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,l=/^0o[0-7]+$/i,u=parseInt;function d(e){if("number"==typeof e)return e;if(i(e))return r;if(o(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(a,"");var n=c.test(e);return n||l.test(e)?u(e.slice(2),n?2:8):s.test(e)?r:+e}e.exports=d},b8bf:function(e,t,n){
/*!
 * matter-js 0.16.1 by @liabru 2021-01-31
 * http://brm.io/matter-js/
 * License MIT
 * 
 * The MIT License (MIT)
 * 
 * Copyright (c) Liam Brummitt and contributors.
 * 
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 * 
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
(function(t,o){e.exports=o(function(){try{return n("0dd7")}catch(e){}}())})(0,(function(e){return function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=24)}([function(e,t){var n={};e.exports=n,function(){n._nextId=0,n._seed=0,n._nowStartTime=+new Date,n.extend=function(e,t){var o,i;"boolean"===typeof t?(o=2,i=t):(o=1,i=!0);for(var r=o;r<arguments.length;r++){var a=arguments[r];if(a)for(var s in a)i&&a[s]&&a[s].constructor===Object?e[s]&&e[s].constructor!==Object?e[s]=a[s]:(e[s]=e[s]||{},n.extend(e[s],i,a[s])):e[s]=a[s]}return e},n.clone=function(e,t){return n.extend({},t,e)},n.keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var n in e)t.push(n);return t},n.values=function(e){var t=[];if(Object.keys){for(var n=Object.keys(e),o=0;o<n.length;o++)t.push(e[n[o]]);return t}for(var i in e)t.push(e[i]);return t},n.get=function(e,t,n,o){t=t.split(".").slice(n,o);for(var i=0;i<t.length;i+=1)e=e[t[i]];return e},n.set=function(e,t,o,i,r){var a=t.split(".").slice(i,r);return n.get(e,t,0,-1)[a[a.length-1]]=o,o},n.shuffle=function(e){for(var t=e.length-1;t>0;t--){var o=Math.floor(n.random()*(t+1)),i=e[t];e[t]=e[o],e[o]=i}return e},n.choose=function(e){return e[Math.floor(n.random()*e.length)]},n.isElement=function(e){return"undefined"!==typeof HTMLElement?e instanceof HTMLElement:!!(e&&e.nodeType&&e.nodeName)},n.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)},n.isFunction=function(e){return"function"===typeof e},n.isPlainObject=function(e){return"object"===typeof e&&e.constructor===Object},n.isString=function(e){return"[object String]"===toString.call(e)},n.clamp=function(e,t,n){return e<t?t:e>n?n:e},n.sign=function(e){return e<0?-1:1},n.now=function(){if("undefined"!==typeof window&&window.performance){if(window.performance.now)return window.performance.now();if(window.performance.webkitNow)return window.performance.webkitNow()}return new Date-n._nowStartTime},n.random=function(t,n){return t="undefined"!==typeof t?t:0,n="undefined"!==typeof n?n:1,t+e()*(n-t)};var e=function(){return n._seed=(9301*n._seed+49297)%233280,n._seed/233280};n.colorToNumber=function(e){return e=e.replace("#",""),3==e.length&&(e=e.charAt(0)+e.charAt(0)+e.charAt(1)+e.charAt(1)+e.charAt(2)+e.charAt(2)),parseInt(e,16)},n.logLevel=1,n.log=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.log.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.info=function(){console&&n.logLevel>0&&n.logLevel<=2&&console.info.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.warn=function(){console&&n.logLevel>0&&n.logLevel<=3&&console.warn.apply(console,["matter-js:"].concat(Array.prototype.slice.call(arguments)))},n.nextId=function(){return n._nextId++},n.indexOf=function(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},n.map=function(e,t){if(e.map)return e.map(t);for(var n=[],o=0;o<e.length;o+=1)n.push(t(e[o]));return n},n.topologicalSort=function(e){var t=[],o=[],i=[];for(var r in e)o[r]||i[r]||n._topologicalSort(r,o,i,e,t);return t},n._topologicalSort=function(e,t,o,i,r){var a=i[e]||[];o[e]=!0;for(var s=0;s<a.length;s+=1){var c=a[s];o[c]||(t[c]||n._topologicalSort(c,t,o,i,r))}o[e]=!1,t[e]=!0,r.push(e)},n.chain=function(){for(var e=[],t=0;t<arguments.length;t+=1){var n=arguments[t];n._chained?e.push.apply(e,n._chained):e.push(n)}var o=function(){for(var t,n=new Array(arguments.length),o=0,i=arguments.length;o<i;o++)n[o]=arguments[o];for(o=0;o<e.length;o+=1){var r=e[o].apply(t,n);"undefined"!==typeof r&&(t=r)}return t};return o._chained=e,o},n.chainPathBefore=function(e,t,o){return n.set(e,t,n.chain(o,n.get(e,t)))},n.chainPathAfter=function(e,t,o){return n.set(e,t,n.chain(n.get(e,t),o))}}()},function(e,t){var n={};e.exports=n,function(){n.create=function(e){var t={min:{x:0,y:0},max:{x:0,y:0}};return e&&n.update(t,e),t},n.update=function(e,t,n){e.min.x=1/0,e.max.x=-1/0,e.min.y=1/0,e.max.y=-1/0;for(var o=0;o<t.length;o++){var i=t[o];i.x>e.max.x&&(e.max.x=i.x),i.x<e.min.x&&(e.min.x=i.x),i.y>e.max.y&&(e.max.y=i.y),i.y<e.min.y&&(e.min.y=i.y)}n&&(n.x>0?e.max.x+=n.x:e.min.x+=n.x,n.y>0?e.max.y+=n.y:e.min.y+=n.y)},n.contains=function(e,t){return t.x>=e.min.x&&t.x<=e.max.x&&t.y>=e.min.y&&t.y<=e.max.y},n.overlaps=function(e,t){return e.min.x<=t.max.x&&e.max.x>=t.min.x&&e.max.y>=t.min.y&&e.min.y<=t.max.y},n.translate=function(e,t){e.min.x+=t.x,e.max.x+=t.x,e.min.y+=t.y,e.max.y+=t.y},n.shift=function(e,t){var n=e.max.x-e.min.x,o=e.max.y-e.min.y;e.min.x=t.x,e.max.x=t.x+n,e.min.y=t.y,e.max.y=t.y+o}}()},function(e,t){var n={};e.exports=n,function(){n.create=function(e,t){return{x:e||0,y:t||0}},n.clone=function(e){return{x:e.x,y:e.y}},n.magnitude=function(e){return Math.sqrt(e.x*e.x+e.y*e.y)},n.magnitudeSquared=function(e){return e.x*e.x+e.y*e.y},n.rotate=function(e,t,n){var o=Math.cos(t),i=Math.sin(t);n||(n={});var r=e.x*o-e.y*i;return n.y=e.x*i+e.y*o,n.x=r,n},n.rotateAbout=function(e,t,n,o){var i=Math.cos(t),r=Math.sin(t);o||(o={});var a=n.x+((e.x-n.x)*i-(e.y-n.y)*r);return o.y=n.y+((e.x-n.x)*r+(e.y-n.y)*i),o.x=a,o},n.normalise=function(e){var t=n.magnitude(e);return 0===t?{x:0,y:0}:{x:e.x/t,y:e.y/t}},n.dot=function(e,t){return e.x*t.x+e.y*t.y},n.cross=function(e,t){return e.x*t.y-e.y*t.x},n.cross3=function(e,t,n){return(t.x-e.x)*(n.y-e.y)-(t.y-e.y)*(n.x-e.x)},n.add=function(e,t,n){return n||(n={}),n.x=e.x+t.x,n.y=e.y+t.y,n},n.sub=function(e,t,n){return n||(n={}),n.x=e.x-t.x,n.y=e.y-t.y,n},n.mult=function(e,t){return{x:e.x*t,y:e.y*t}},n.div=function(e,t){return{x:e.x/t,y:e.y/t}},n.perp=function(e,t){return t=!0===t?-1:1,{x:t*-e.y,y:t*e.x}},n.neg=function(e){return{x:-e.x,y:-e.y}},n.angle=function(e,t){return Math.atan2(t.y-e.y,t.x-e.x)},n._temp=[n.create(),n.create(),n.create(),n.create(),n.create(),n.create()]}()},function(e,t,n){var o={};e.exports=o;var i=n(2),r=n(0);(function(){o.create=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o],r={x:i.x,y:i.y,index:o,body:t,isInternal:!1};n.push(r)}return n},o.fromPath=function(e,t){var n=/L?\s*([-\d.e]+)[\s,]*([-\d.e]+)*/gi,i=[];return e.replace(n,(function(e,t,n){i.push({x:parseFloat(t),y:parseFloat(n)})})),o.create(i,t)},o.centre=function(e){for(var t,n,r,a=o.area(e,!0),s={x:0,y:0},c=0;c<e.length;c++)r=(c+1)%e.length,t=i.cross(e[c],e[r]),n=i.mult(i.add(e[c],e[r]),t),s=i.add(s,n);return i.div(s,6*a)},o.mean=function(e){for(var t={x:0,y:0},n=0;n<e.length;n++)t.x+=e[n].x,t.y+=e[n].y;return i.div(t,e.length)},o.area=function(e,t){for(var n=0,o=e.length-1,i=0;i<e.length;i++)n+=(e[o].x-e[i].x)*(e[o].y+e[i].y),o=i;return t?n/2:Math.abs(n)/2},o.inertia=function(e,t){for(var n,o,r=0,a=0,s=e,c=0;c<s.length;c++)o=(c+1)%s.length,n=Math.abs(i.cross(s[o],s[c])),r+=n*(i.dot(s[o],s[o])+i.dot(s[o],s[c])+i.dot(s[c],s[c])),a+=n;return t/6*(r/a)},o.translate=function(e,t,n){var o;if(n)for(o=0;o<e.length;o++)e[o].x+=t.x*n,e[o].y+=t.y*n;else for(o=0;o<e.length;o++)e[o].x+=t.x,e[o].y+=t.y;return e},o.rotate=function(e,t,n){if(0!==t){for(var o=Math.cos(t),i=Math.sin(t),r=0;r<e.length;r++){var a=e[r],s=a.x-n.x,c=a.y-n.y;a.x=n.x+(s*o-c*i),a.y=n.y+(s*i+c*o)}return e}},o.contains=function(e,t){for(var n=0;n<e.length;n++){var o=e[n],i=e[(n+1)%e.length];if((t.x-o.x)*(i.y-o.y)+(t.y-o.y)*(o.x-i.x)>0)return!1}return!0},o.scale=function(e,t,n,r){if(1===t&&1===n)return e;var a,s;r=r||o.centre(e);for(var c=0;c<e.length;c++)a=e[c],s=i.sub(a,r),e[c].x=r.x+s.x*t,e[c].y=r.y+s.y*n;return e},o.chamfer=function(e,t,n,o,a){t="number"===typeof t?[t]:t||[8],n="undefined"!==typeof n?n:-1,o=o||2,a=a||14;for(var s=[],c=0;c<e.length;c++){var l=e[c-1>=0?c-1:e.length-1],u=e[c],d=e[(c+1)%e.length],f=t[c<t.length?c:t.length-1];if(0!==f){var p=i.normalise({x:u.y-l.y,y:l.x-u.x}),v=i.normalise({x:d.y-u.y,y:u.x-d.x}),g=Math.sqrt(2*Math.pow(f,2)),m=i.mult(r.clone(p),f),h=i.normalise(i.mult(i.add(p,v),.5)),y=i.sub(u,i.mult(h,g)),b=n;-1===n&&(b=1.75*Math.pow(f,.32)),b=r.clamp(b,o,a),b%2===1&&(b+=1);for(var x=Math.acos(i.dot(p,v)),w=x/b,S=0;S<b;S++)s.push(i.add(i.rotate(m,w*S),y))}else s.push(u)}return s},o.clockwiseSort=function(e){var t=o.mean(e);return e.sort((function(e,n){return i.angle(t,e)-i.angle(t,n)})),e},o.isConvex=function(e){var t,n,o,i,r=0,a=e.length;if(a<3)return null;for(t=0;t<a;t++)if(n=(t+1)%a,o=(t+2)%a,i=(e[n].x-e[t].x)*(e[o].y-e[n].y),i-=(e[n].y-e[t].y)*(e[o].x-e[n].x),i<0?r|=1:i>0&&(r|=2),3===r)return!1;return 0!==r||null},o.hull=function(e){var t,n,o=[],r=[];for(e=e.slice(0),e.sort((function(e,t){var n=e.x-t.x;return 0!==n?n:e.y-t.y})),n=0;n<e.length;n+=1){t=e[n];while(r.length>=2&&i.cross3(r[r.length-2],r[r.length-1],t)<=0)r.pop();r.push(t)}for(n=e.length-1;n>=0;n-=1){t=e[n];while(o.length>=2&&i.cross3(o[o.length-2],o[o.length-1],t)<=0)o.pop();o.push(t)}return o.pop(),r.pop(),o.concat(r)}})()},function(e,t,n){var o={};e.exports=o;var i=n(0);(function(){o.on=function(e,t,n){for(var o,i=t.split(" "),r=0;r<i.length;r++)o=i[r],e.events=e.events||{},e.events[o]=e.events[o]||[],e.events[o].push(n);return n},o.off=function(e,t,n){if(t){"function"===typeof t&&(n=t,t=i.keys(e.events).join(" "));for(var o=t.split(" "),r=0;r<o.length;r++){var a=e.events[o[r]],s=[];if(n&&a)for(var c=0;c<a.length;c++)a[c]!==n&&s.push(a[c]);e.events[o[r]]=s}}else e.events={}},o.trigger=function(e,t,n){var o,r,a,s,c=e.events;if(c&&i.keys(c).length>0){n||(n={}),o=t.split(" ");for(var l=0;l<o.length;l++)if(r=o[l],a=c[r],a){s=i.clone(n,!1),s.name=r,s.source=e;for(var u=0;u<a.length;u++)a[u].apply(e,[s])}}}})()},function(e,t,n){var o={};e.exports=o;var i=n(4),r=n(0),a=n(1),s=n(6);(function(){o.create=function(e){return r.extend({id:r.nextId(),type:"composite",parent:null,isModified:!1,bodies:[],constraints:[],composites:[],label:"Composite",plugin:{}},e)},o.setModified=function(e,t,n,i){if(e.isModified=t,n&&e.parent&&o.setModified(e.parent,t,n,i),i)for(var r=0;r<e.composites.length;r++){var a=e.composites[r];o.setModified(a,t,n,i)}},o.add=function(e,t){var n=[].concat(t);i.trigger(e,"beforeAdd",{object:t});for(var a=0;a<n.length;a++){var s=n[a];switch(s.type){case"body":if(s.parent!==s){r.warn("Composite.add: skipped adding a compound body part (you must add its parent instead)");break}o.addBody(e,s);break;case"constraint":o.addConstraint(e,s);break;case"composite":o.addComposite(e,s);break;case"mouseConstraint":o.addConstraint(e,s.constraint);break}}return i.trigger(e,"afterAdd",{object:t}),e},o.remove=function(e,t,n){var r=[].concat(t);i.trigger(e,"beforeRemove",{object:t});for(var a=0;a<r.length;a++){var s=r[a];switch(s.type){case"body":o.removeBody(e,s,n);break;case"constraint":o.removeConstraint(e,s,n);break;case"composite":o.removeComposite(e,s,n);break;case"mouseConstraint":o.removeConstraint(e,s.constraint);break}}return i.trigger(e,"afterRemove",{object:t}),e},o.addComposite=function(e,t){return e.composites.push(t),t.parent=e,o.setModified(e,!0,!0,!1),e},o.removeComposite=function(e,t,n){var i=r.indexOf(e.composites,t);if(-1!==i&&(o.removeCompositeAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var a=0;a<e.composites.length;a++)o.removeComposite(e.composites[a],t,!0);return e},o.removeCompositeAt=function(e,t){return e.composites.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addBody=function(e,t){return e.bodies.push(t),o.setModified(e,!0,!0,!1),e},o.removeBody=function(e,t,n){var i=r.indexOf(e.bodies,t);if(-1!==i&&(o.removeBodyAt(e,i),o.setModified(e,!0,!0,!1)),n)for(var a=0;a<e.composites.length;a++)o.removeBody(e.composites[a],t,!0);return e},o.removeBodyAt=function(e,t){return e.bodies.splice(t,1),o.setModified(e,!0,!0,!1),e},o.addConstraint=function(e,t){return e.constraints.push(t),o.setModified(e,!0,!0,!1),e},o.removeConstraint=function(e,t,n){var i=r.indexOf(e.constraints,t);if(-1!==i&&o.removeConstraintAt(e,i),n)for(var a=0;a<e.composites.length;a++)o.removeConstraint(e.composites[a],t,!0);return e},o.removeConstraintAt=function(e,t){return e.constraints.splice(t,1),o.setModified(e,!0,!0,!1),e},o.clear=function(e,t,n){if(n)for(var i=0;i<e.composites.length;i++)o.clear(e.composites[i],t,!0);return t?e.bodies=e.bodies.filter((function(e){return e.isStatic})):e.bodies.length=0,e.constraints.length=0,e.composites.length=0,o.setModified(e,!0,!0,!1),e},o.allBodies=function(e){for(var t=[].concat(e.bodies),n=0;n<e.composites.length;n++)t=t.concat(o.allBodies(e.composites[n]));return t},o.allConstraints=function(e){for(var t=[].concat(e.constraints),n=0;n<e.composites.length;n++)t=t.concat(o.allConstraints(e.composites[n]));return t},o.allComposites=function(e){for(var t=[].concat(e.composites),n=0;n<e.composites.length;n++)t=t.concat(o.allComposites(e.composites[n]));return t},o.get=function(e,t,n){var i,r;switch(n){case"body":i=o.allBodies(e);break;case"constraint":i=o.allConstraints(e);break;case"composite":i=o.allComposites(e).concat(e);break}return i?(r=i.filter((function(e){return e.id.toString()===t.toString()})),0===r.length?null:r[0]):null},o.move=function(e,t,n){return o.remove(e,t),o.add(n,t),e},o.rebase=function(e){for(var t=o.allBodies(e).concat(o.allConstraints(e)).concat(o.allComposites(e)),n=0;n<t.length;n++)t[n].id=r.nextId();return o.setModified(e,!0,!0,!1),e},o.translate=function(e,t,n){for(var i=n?o.allBodies(e):e.bodies,r=0;r<i.length;r++)s.translate(i[r],t);return o.setModified(e,!0,!0,!1),e},o.rotate=function(e,t,n,i){for(var r=Math.cos(t),a=Math.sin(t),c=i?o.allBodies(e):e.bodies,l=0;l<c.length;l++){var u=c[l],d=u.position.x-n.x,f=u.position.y-n.y;s.setPosition(u,{x:n.x+(d*r-f*a),y:n.y+(d*a+f*r)}),s.rotate(u,t)}return o.setModified(e,!0,!0,!1),e},o.scale=function(e,t,n,i,r){for(var a=r?o.allBodies(e):e.bodies,c=0;c<a.length;c++){var l=a[c],u=l.position.x-i.x,d=l.position.y-i.y;s.setPosition(l,{x:i.x+u*t,y:i.y+d*n}),s.scale(l,t,n)}return o.setModified(e,!0,!0,!1),e},o.bounds=function(e){for(var t=o.allBodies(e),n=[],i=0;i<t.length;i+=1){var r=t[i];n.push(r.bounds.min,r.bounds.max)}return a.create(n)}})()},function(e,t,n){var o={};e.exports=o;var i=n(3),r=n(2),a=n(7),s=(n(10),n(0)),c=n(1),l=n(15);(function(){o._inertiaScale=4,o._nextCollidingGroupId=1,o._nextNonCollidingGroupId=-1,o._nextCategory=1,o.create=function(t){var n={id:s.nextId(),type:"body",label:"Body",parts:[],plugin:{},angle:0,vertices:i.fromPath("L 0 0 L 40 0 L 40 40 L 0 40"),position:{x:0,y:0},force:{x:0,y:0},torque:0,positionImpulse:{x:0,y:0},constraintImpulse:{x:0,y:0,angle:0},totalContacts:0,speed:0,angularSpeed:0,velocity:{x:0,y:0},angularVelocity:0,isSensor:!1,isStatic:!1,isSleeping:!1,motion:0,sleepThreshold:60,density:.001,restitution:0,friction:.1,frictionStatic:.5,frictionAir:.01,collisionFilter:{category:1,mask:4294967295,group:0},slop:.05,timeScale:1,render:{visible:!0,opacity:1,strokeStyle:null,fillStyle:null,lineWidth:null,sprite:{xScale:1,yScale:1,xOffset:0,yOffset:0}},events:null,bounds:null,chamfer:null,circleRadius:0,positionPrev:null,anglePrev:0,parent:null,axes:null,area:0,mass:0,inertia:0,_original:null},o=s.extend(n,t);return e(o,t),o},o.nextGroup=function(e){return e?o._nextNonCollidingGroupId--:o._nextCollidingGroupId++},o.nextCategory=function(){return o._nextCategory=o._nextCategory<<1,o._nextCategory};var e=function(e,t){t=t||{},o.set(e,{bounds:e.bounds||c.create(e.vertices),positionPrev:e.positionPrev||r.clone(e.position),anglePrev:e.anglePrev||e.angle,vertices:e.vertices,parts:e.parts||[e],isStatic:e.isStatic,isSleeping:e.isSleeping,parent:e.parent||e}),i.rotate(e.vertices,e.angle,e.position),l.rotate(e.axes,e.angle),c.update(e.bounds,e.vertices,e.velocity),o.set(e,{axes:t.axes||e.axes,area:t.area||e.area,mass:t.mass||e.mass,inertia:t.inertia||e.inertia});var n=e.isStatic?"#14151f":s.choose(["#f19648","#f5d259","#f55a3c","#063e7b","#ececd1"]),a=e.isStatic?"#555":"#ccc",u=e.isStatic&&null===e.render.fillStyle?1:0;e.render.fillStyle=e.render.fillStyle||n,e.render.strokeStyle=e.render.strokeStyle||a,e.render.lineWidth=e.render.lineWidth||u,e.render.sprite.xOffset+=-(e.bounds.min.x-e.position.x)/(e.bounds.max.x-e.bounds.min.x),e.render.sprite.yOffset+=-(e.bounds.min.y-e.position.y)/(e.bounds.max.y-e.bounds.min.y)};o.set=function(e,t,n){var i;for(i in"string"===typeof t&&(i=t,t={},t[i]=n),t)if(Object.prototype.hasOwnProperty.call(t,i))switch(n=t[i],i){case"isStatic":o.setStatic(e,n);break;case"isSleeping":a.set(e,n);break;case"mass":o.setMass(e,n);break;case"density":o.setDensity(e,n);break;case"inertia":o.setInertia(e,n);break;case"vertices":o.setVertices(e,n);break;case"position":o.setPosition(e,n);break;case"angle":o.setAngle(e,n);break;case"velocity":o.setVelocity(e,n);break;case"angularVelocity":o.setAngularVelocity(e,n);break;case"parts":o.setParts(e,n);break;case"centre":o.setCentre(e,n);break;default:e[i]=n}},o.setStatic=function(e,t){for(var n=0;n<e.parts.length;n++){var o=e.parts[n];o.isStatic=t,t?(o._original={restitution:o.restitution,friction:o.friction,mass:o.mass,inertia:o.inertia,density:o.density,inverseMass:o.inverseMass,inverseInertia:o.inverseInertia},o.restitution=0,o.friction=1,o.mass=o.inertia=o.density=1/0,o.inverseMass=o.inverseInertia=0,o.positionPrev.x=o.position.x,o.positionPrev.y=o.position.y,o.anglePrev=o.angle,o.angularVelocity=0,o.speed=0,o.angularSpeed=0,o.motion=0):o._original&&(o.restitution=o._original.restitution,o.friction=o._original.friction,o.mass=o._original.mass,o.inertia=o._original.inertia,o.density=o._original.density,o.inverseMass=o._original.inverseMass,o.inverseInertia=o._original.inverseInertia,o._original=null)}},o.setMass=function(e,t){var n=e.inertia/(e.mass/6);e.inertia=n*(t/6),e.inverseInertia=1/e.inertia,e.mass=t,e.inverseMass=1/e.mass,e.density=e.mass/e.area},o.setDensity=function(e,t){o.setMass(e,t*e.area),e.density=t},o.setInertia=function(e,t){e.inertia=t,e.inverseInertia=1/e.inertia},o.setVertices=function(e,t){t[0].body===e?e.vertices=t:e.vertices=i.create(t,e),e.axes=l.fromVertices(e.vertices),e.area=i.area(e.vertices),o.setMass(e,e.density*e.area);var n=i.centre(e.vertices);i.translate(e.vertices,n,-1),o.setInertia(e,o._inertiaScale*i.inertia(e.vertices,e.mass)),i.translate(e.vertices,e.position),c.update(e.bounds,e.vertices,e.velocity)},o.setParts=function(e,t,n){var r;for(t=t.slice(0),e.parts.length=0,e.parts.push(e),e.parent=e,r=0;r<t.length;r++){var a=t[r];a!==e&&(a.parent=e,e.parts.push(a))}if(1!==e.parts.length){if(n="undefined"===typeof n||n,n){var s=[];for(r=0;r<t.length;r++)s=s.concat(t[r].vertices);i.clockwiseSort(s);var c=i.hull(s),l=i.centre(c);o.setVertices(e,c),i.translate(e.vertices,l)}var u=o._totalProperties(e);e.area=u.area,e.parent=e,e.position.x=u.centre.x,e.position.y=u.centre.y,e.positionPrev.x=u.centre.x,e.positionPrev.y=u.centre.y,o.setMass(e,u.mass),o.setInertia(e,u.inertia),o.setPosition(e,u.centre)}},o.setCentre=function(e,t,n){n?(e.positionPrev.x+=t.x,e.positionPrev.y+=t.y,e.position.x+=t.x,e.position.y+=t.y):(e.positionPrev.x=t.x-(e.position.x-e.positionPrev.x),e.positionPrev.y=t.y-(e.position.y-e.positionPrev.y),e.position.x=t.x,e.position.y=t.y)},o.setPosition=function(e,t){var n=r.sub(t,e.position);e.positionPrev.x+=n.x,e.positionPrev.y+=n.y;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.position.x+=n.x,a.position.y+=n.y,i.translate(a.vertices,n),c.update(a.bounds,a.vertices,e.velocity)}},o.setAngle=function(e,t){var n=t-e.angle;e.anglePrev+=n;for(var o=0;o<e.parts.length;o++){var a=e.parts[o];a.angle+=n,i.rotate(a.vertices,n,e.position),l.rotate(a.axes,n),c.update(a.bounds,a.vertices,e.velocity),o>0&&r.rotateAbout(a.position,n,e.position,a.position)}},o.setVelocity=function(e,t){e.positionPrev.x=e.position.x-t.x,e.positionPrev.y=e.position.y-t.y,e.velocity.x=t.x,e.velocity.y=t.y,e.speed=r.magnitude(e.velocity)},o.setAngularVelocity=function(e,t){e.anglePrev=e.angle-t,e.angularVelocity=t,e.angularSpeed=Math.abs(e.angularVelocity)},o.translate=function(e,t){o.setPosition(e,r.add(e.position,t))},o.rotate=function(e,t,n){if(n){var i=Math.cos(t),r=Math.sin(t),a=e.position.x-n.x,s=e.position.y-n.y;o.setPosition(e,{x:n.x+(a*i-s*r),y:n.y+(a*r+s*i)}),o.setAngle(e,e.angle+t)}else o.setAngle(e,e.angle+t)},o.scale=function(e,t,n,r){var a=0,s=0;r=r||e.position;for(var u=0;u<e.parts.length;u++){var d=e.parts[u];i.scale(d.vertices,t,n,r),d.axes=l.fromVertices(d.vertices),d.area=i.area(d.vertices),o.setMass(d,e.density*d.area),i.translate(d.vertices,{x:-d.position.x,y:-d.position.y}),o.setInertia(d,o._inertiaScale*i.inertia(d.vertices,d.mass)),i.translate(d.vertices,{x:d.position.x,y:d.position.y}),u>0&&(a+=d.area,s+=d.inertia),d.position.x=r.x+(d.position.x-r.x)*t,d.position.y=r.y+(d.position.y-r.y)*n,c.update(d.bounds,d.vertices,e.velocity)}e.parts.length>1&&(e.area=a,e.isStatic||(o.setMass(e,e.density*a),o.setInertia(e,s))),e.circleRadius&&(t===n?e.circleRadius*=t:e.circleRadius=null)},o.update=function(e,t,n,o){var a=Math.pow(t*n*e.timeScale,2),s=1-e.frictionAir*n*e.timeScale,u=e.position.x-e.positionPrev.x,d=e.position.y-e.positionPrev.y;e.velocity.x=u*s*o+e.force.x/e.mass*a,e.velocity.y=d*s*o+e.force.y/e.mass*a,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.position.x+=e.velocity.x,e.position.y+=e.velocity.y,e.angularVelocity=(e.angle-e.anglePrev)*s*o+e.torque/e.inertia*a,e.anglePrev=e.angle,e.angle+=e.angularVelocity,e.speed=r.magnitude(e.velocity),e.angularSpeed=Math.abs(e.angularVelocity);for(var f=0;f<e.parts.length;f++){var p=e.parts[f];i.translate(p.vertices,e.velocity),f>0&&(p.position.x+=e.velocity.x,p.position.y+=e.velocity.y),0!==e.angularVelocity&&(i.rotate(p.vertices,e.angularVelocity,e.position),l.rotate(p.axes,e.angularVelocity),f>0&&r.rotateAbout(p.position,e.angularVelocity,e.position,p.position)),c.update(p.bounds,p.vertices,e.velocity)}},o.applyForce=function(e,t,n){e.force.x+=n.x,e.force.y+=n.y;var o={x:t.x-e.position.x,y:t.y-e.position.y};e.torque+=o.x*n.y-o.y*n.x},o._totalProperties=function(e){for(var t={mass:0,area:0,inertia:0,centre:{x:0,y:0}},n=1===e.parts.length?0:1;n<e.parts.length;n++){var o=e.parts[n],i=o.mass!==1/0?o.mass:1;t.mass+=i,t.area+=o.area,t.inertia+=o.inertia,t.centre=r.add(t.centre,r.mult(o.position,i))}return t.centre=r.div(t.centre,t.mass),t}})()},function(e,t,n){var o={};e.exports=o;var i=n(4);(function(){o._motionWakeThreshold=.18,o._motionSleepThreshold=.08,o._minBias=.9,o.update=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i],a=r.speed*r.speed+r.angularSpeed*r.angularSpeed;if(0===r.force.x&&0===r.force.y){var s=Math.min(r.motion,a),c=Math.max(r.motion,a);r.motion=o._minBias*s+(1-o._minBias)*c,r.sleepThreshold>0&&r.motion<o._motionSleepThreshold*n?(r.sleepCounter+=1,r.sleepCounter>=r.sleepThreshold&&o.set(r,!0)):r.sleepCounter>0&&(r.sleepCounter-=1)}else o.set(r,!1)}},o.afterCollisions=function(e,t){for(var n=t*t*t,i=0;i<e.length;i++){var r=e[i];if(r.isActive){var a=r.collision,s=a.bodyA.parent,c=a.bodyB.parent;if(!(s.isSleeping&&c.isSleeping||s.isStatic||c.isStatic)&&(s.isSleeping||c.isSleeping)){var l=s.isSleeping&&!s.isStatic?s:c,u=l===s?c:s;!l.isStatic&&u.motion>o._motionWakeThreshold*n&&o.set(l,!1)}}}},o.set=function(e,t){var n=e.isSleeping;t?(e.isSleeping=!0,e.sleepCounter=e.sleepThreshold,e.positionImpulse.x=0,e.positionImpulse.y=0,e.positionPrev.x=e.position.x,e.positionPrev.y=e.position.y,e.anglePrev=e.angle,e.speed=0,e.angularSpeed=0,e.motion=0,n||i.trigger(e,"sleepStart")):(e.isSleeping=!1,e.sleepCounter=0,n&&i.trigger(e,"sleepEnd"))}})()},function(e,t,n){var o={};e.exports=o;var i=n(3),r=n(2),a=n(7),s=n(1),c=n(15),l=n(0);(function(){o._warming=.4,o._torqueDampen=1,o._minLength=1e-6,o.create=function(e){var t=e;t.bodyA&&!t.pointA&&(t.pointA={x:0,y:0}),t.bodyB&&!t.pointB&&(t.pointB={x:0,y:0});var n=t.bodyA?r.add(t.bodyA.position,t.pointA):t.pointA,o=t.bodyB?r.add(t.bodyB.position,t.pointB):t.pointB,i=r.magnitude(r.sub(n,o));t.length="undefined"!==typeof t.length?t.length:i,t.id=t.id||l.nextId(),t.label=t.label||"Constraint",t.type="constraint",t.stiffness=t.stiffness||(t.length>0?1:.7),t.damping=t.damping||0,t.angularStiffness=t.angularStiffness||0,t.angleA=t.bodyA?t.bodyA.angle:t.angleA,t.angleB=t.bodyB?t.bodyB.angle:t.angleB,t.plugin={};var a={visible:!0,lineWidth:2,strokeStyle:"#ffffff",type:"line",anchors:!0};return 0===t.length&&t.stiffness>.1?(a.type="pin",a.anchors=!1):t.stiffness<.9&&(a.type="spring"),t.render=l.extend(a,t.render),t},o.preSolveAll=function(e){for(var t=0;t<e.length;t+=1){var n=e[t],o=n.constraintImpulse;n.isStatic||0===o.x&&0===o.y&&0===o.angle||(n.position.x+=o.x,n.position.y+=o.y,n.angle+=o.angle)}},o.solveAll=function(e,t){for(var n=0;n<e.length;n+=1){var i=e[n],r=!i.bodyA||i.bodyA&&i.bodyA.isStatic,a=!i.bodyB||i.bodyB&&i.bodyB.isStatic;(r||a)&&o.solve(e[n],t)}for(n=0;n<e.length;n+=1)i=e[n],r=!i.bodyA||i.bodyA&&i.bodyA.isStatic,a=!i.bodyB||i.bodyB&&i.bodyB.isStatic,r||a||o.solve(e[n],t)},o.solve=function(e,t){var n=e.bodyA,i=e.bodyB,a=e.pointA,s=e.pointB;if(n||i){n&&!n.isStatic&&(r.rotate(a,n.angle-e.angleA,a),e.angleA=n.angle),i&&!i.isStatic&&(r.rotate(s,i.angle-e.angleB,s),e.angleB=i.angle);var c=a,l=s;if(n&&(c=r.add(n.position,a)),i&&(l=r.add(i.position,s)),c&&l){var u=r.sub(c,l),d=r.magnitude(u);d<o._minLength&&(d=o._minLength);var f,p,v,g,m,h=(d-e.length)/d,y=e.stiffness<1?e.stiffness*t:e.stiffness,b=r.mult(u,h*y),x=(n?n.inverseMass:0)+(i?i.inverseMass:0),w=(n?n.inverseInertia:0)+(i?i.inverseInertia:0),S=x+w;if(e.damping){var O=r.create();v=r.div(u,d),m=r.sub(i&&r.sub(i.position,i.positionPrev)||O,n&&r.sub(n.position,n.positionPrev)||O),g=r.dot(v,m)}n&&!n.isStatic&&(p=n.inverseMass/x,n.constraintImpulse.x-=b.x*p,n.constraintImpulse.y-=b.y*p,n.position.x-=b.x*p,n.position.y-=b.y*p,e.damping&&(n.positionPrev.x-=e.damping*v.x*g*p,n.positionPrev.y-=e.damping*v.y*g*p),f=r.cross(a,b)/S*o._torqueDampen*n.inverseInertia*(1-e.angularStiffness),n.constraintImpulse.angle-=f,n.angle-=f),i&&!i.isStatic&&(p=i.inverseMass/x,i.constraintImpulse.x+=b.x*p,i.constraintImpulse.y+=b.y*p,i.position.x+=b.x*p,i.position.y+=b.y*p,e.damping&&(i.positionPrev.x+=e.damping*v.x*g*p,i.positionPrev.y+=e.damping*v.y*g*p),f=r.cross(s,b)/S*o._torqueDampen*i.inverseInertia*(1-e.angularStiffness),i.constraintImpulse.angle+=f,i.angle+=f)}}},o.postSolveAll=function(e){for(var t=0;t<e.length;t++){var n=e[t],l=n.constraintImpulse;if(!(n.isStatic||0===l.x&&0===l.y&&0===l.angle)){a.set(n,!1);for(var u=0;u<n.parts.length;u++){var d=n.parts[u];i.translate(d.vertices,l),u>0&&(d.position.x+=l.x,d.position.y+=l.y),0!==l.angle&&(i.rotate(d.vertices,l.angle,n.position),c.rotate(d.axes,l.angle),u>0&&r.rotateAbout(d.position,l.angle,n.position,d.position)),s.update(d.bounds,d.vertices,n.velocity)}l.angle*=o._warming,l.x*=o._warming,l.y*=o._warming}}},o.pointAWorld=function(e){return{x:(e.bodyA?e.bodyA.position.x:0)+e.pointA.x,y:(e.bodyA?e.bodyA.position.y:0)+e.pointA.y}},o.pointBWorld=function(e){return{x:(e.bodyB?e.bodyB.position.x:0)+e.pointB.x,y:(e.bodyB?e.bodyB.position.y:0)+e.pointB.y}}})()},function(e,t,n){var o={};e.exports=o;var i=n(18);(function(){o.create=function(e,t){var n=e.bodyA,i=e.bodyB,r=e.parentA,a=e.parentB,s={id:o.id(n,i),bodyA:n,bodyB:i,contacts:{},activeContacts:[],separation:0,isActive:!0,confirmedActive:!0,isSensor:n.isSensor||i.isSensor,timeCreated:t,timeUpdated:t,inverseMass:r.inverseMass+a.inverseMass,friction:Math.min(r.friction,a.friction),frictionStatic:Math.max(r.frictionStatic,a.frictionStatic),restitution:Math.max(r.restitution,a.restitution),slop:Math.max(r.slop,a.slop)};return o.update(s,e,t),s},o.update=function(e,t,n){var r=e.contacts,a=t.supports,s=e.activeContacts,c=t.parentA,l=t.parentB;if(e.collision=t,e.inverseMass=c.inverseMass+l.inverseMass,e.friction=Math.min(c.friction,l.friction),e.frictionStatic=Math.max(c.frictionStatic,l.frictionStatic),e.restitution=Math.max(c.restitution,l.restitution),e.slop=Math.max(c.slop,l.slop),s.length=0,t.collided){for(var u=0;u<a.length;u++){var d=a[u],f=i.id(d),p=r[f];p?s.push(p):s.push(r[f]=i.create(d))}e.separation=t.depth,o.setActive(e,!0,n)}else!0===e.isActive&&o.setActive(e,!1,n)},o.setActive=function(e,t,n){t?(e.isActive=!0,e.timeUpdated=n):(e.isActive=!1,e.activeContacts.length=0)},o.id=function(e,t){return e.id<t.id?"A"+e.id+"B"+t.id:"A"+t.id+"B"+e.id}})()},function(e,t,n){var o={};e.exports=o;var i=n(0),r=n(5),a=n(1),s=n(4),c=n(11),l=n(2),u=n(14);(function(){var e,t;"undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(i.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){var t={controller:o,engine:null,element:null,canvas:null,mouse:null,frameRequestId:null,options:{width:800,height:600,pixelRatio:1,background:"#14151f",wireframeBackground:"#14151f",hasBounds:!!e.bounds,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showSeparations:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1,showVertexNumbers:!1,showConvexHulls:!1,showInternalEdges:!1,showMousePosition:!1}},r=i.extend(t,e);return r.canvas&&(r.canvas.width=r.options.width||r.canvas.width,r.canvas.height=r.options.height||r.canvas.height),r.mouse=e.mouse,r.engine=e.engine,r.canvas=r.canvas||n(r.options.width,r.options.height),r.context=r.canvas.getContext("2d"),r.textures={},r.bounds=r.bounds||{min:{x:0,y:0},max:{x:r.canvas.width,y:r.canvas.height}},1!==r.options.pixelRatio&&o.setPixelRatio(r,r.options.pixelRatio),i.isElement(r.element)?r.element.appendChild(r.canvas):r.canvas.parentNode||i.log("Render.create: options.element was undefined, render.canvas was created but not appended","warn"),r},o.run=function(t){(function n(i){t.frameRequestId=e(n),o.world(t)})()},o.stop=function(e){t(e.frameRequestId)},o.setPixelRatio=function(e,t){var n=e.options,o=e.canvas;"auto"===t&&(t=d(o)),n.pixelRatio=t,o.setAttribute("data-pixel-ratio",t),o.width=n.width*t,o.height=n.height*t,o.style.width=n.width+"px",o.style.height=n.height+"px"},o.lookAt=function(e,t,n,o){o="undefined"===typeof o||o,t=i.isArray(t)?t:[t],n=n||{x:0,y:0};for(var r={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}},a=0;a<t.length;a+=1){var s=t[a],c=s.bounds?s.bounds.min:s.min||s.position||s,l=s.bounds?s.bounds.max:s.max||s.position||s;c&&l&&(c.x<r.min.x&&(r.min.x=c.x),l.x>r.max.x&&(r.max.x=l.x),c.y<r.min.y&&(r.min.y=c.y),l.y>r.max.y&&(r.max.y=l.y))}var d=r.max.x-r.min.x+2*n.x,f=r.max.y-r.min.y+2*n.y,p=e.canvas.height,v=e.canvas.width,g=v/p,m=d/f,h=1,y=1;m>g?y=m/g:h=g/m,e.options.hasBounds=!0,e.bounds.min.x=r.min.x,e.bounds.max.x=r.min.x+d*h,e.bounds.min.y=r.min.y,e.bounds.max.y=r.min.y+f*y,o&&(e.bounds.min.x+=.5*d-d*h*.5,e.bounds.max.x+=.5*d-d*h*.5,e.bounds.min.y+=.5*f-f*y*.5,e.bounds.max.y+=.5*f-f*y*.5),e.bounds.min.x-=n.x,e.bounds.max.x-=n.x,e.bounds.min.y-=n.y,e.bounds.max.y-=n.y,e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.canvas.width,y:(e.bounds.max.y-e.bounds.min.y)/e.canvas.height}),u.setOffset(e.mouse,e.bounds.min))},o.startViewTransform=function(e){var t=e.bounds.max.x-e.bounds.min.x,n=e.bounds.max.y-e.bounds.min.y,o=t/e.options.width,i=n/e.options.height;e.context.setTransform(e.options.pixelRatio/o,0,0,e.options.pixelRatio/i,0,0),e.context.translate(-e.bounds.min.x,-e.bounds.min.y)},o.endViewTransform=function(e){e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0)},o.world=function(e){var t,n=e.engine,i=n.world,d=e.canvas,f=e.context,v=e.options,g=r.allBodies(i),m=r.allConstraints(i),h=v.wireframes?v.wireframeBackground:v.background,y=[],b=[],x={timestamp:n.timing.timestamp};if(s.trigger(e,"beforeRender",x),e.currentBackground!==h&&p(e,h),f.globalCompositeOperation="source-in",f.fillStyle="transparent",f.fillRect(0,0,d.width,d.height),f.globalCompositeOperation="source-over",v.hasBounds){for(t=0;t<g.length;t++){var w=g[t];a.overlaps(w.bounds,e.bounds)&&y.push(w)}for(t=0;t<m.length;t++){var S=m[t],O=S.bodyA,A=S.bodyB,C=S.pointA,j=S.pointB;O&&(C=l.add(O.position,S.pointA)),A&&(j=l.add(A.position,S.pointB)),C&&j&&((a.contains(e.bounds,C)||a.contains(e.bounds,j))&&b.push(S))}o.startViewTransform(e),e.mouse&&(u.setScale(e.mouse,{x:(e.bounds.max.x-e.bounds.min.x)/e.options.width,y:(e.bounds.max.y-e.bounds.min.y)/e.options.height}),u.setOffset(e.mouse,e.bounds.min))}else b=m,y=g,1!==e.options.pixelRatio&&e.context.setTransform(e.options.pixelRatio,0,0,e.options.pixelRatio,0,0);!v.wireframes||n.enableSleeping&&v.showSleeping?o.bodies(e,y,f):(v.showConvexHulls&&o.bodyConvexHulls(e,y,f),o.bodyWireframes(e,y,f)),v.showBounds&&o.bodyBounds(e,y,f),(v.showAxes||v.showAngleIndicator)&&o.bodyAxes(e,y,f),v.showPositions&&o.bodyPositions(e,y,f),v.showVelocity&&o.bodyVelocity(e,y,f),v.showIds&&o.bodyIds(e,y,f),v.showSeparations&&o.separations(e,n.pairs.list,f),v.showCollisions&&o.collisions(e,n.pairs.list,f),v.showVertexNumbers&&o.vertexNumbers(e,y,f),v.showMousePosition&&o.mousePosition(e,e.mouse,f),o.constraints(b,f),v.showBroadphase&&n.broadphase.controller===c&&o.grid(e,n.broadphase,f),v.showDebug&&o.debug(e,f),v.hasBounds&&o.endViewTransform(e),s.trigger(e,"afterRender",x)},o.debug=function(e,t){var n=t,o=e.engine,i=o.world,a=o.metrics,s=e.options,l=r.allBodies(i),u="    ";if(o.timing.timestamp-(e.debugTimestamp||0)>=500){var d="";a.timing&&(d+="fps: "+Math.round(a.timing.fps)+u),a.extended&&(a.timing&&(d+="delta: "+a.timing.delta.toFixed(3)+u,d+="correction: "+a.timing.correction.toFixed(3)+u),d+="bodies: "+l.length+u,o.broadphase.controller===c&&(d+="buckets: "+a.buckets+u),d+="\n",d+="collisions: "+a.collisions+u,d+="pairs: "+o.pairs.list.length+u,d+="broad: "+a.broadEff+u,d+="mid: "+a.midEff+u,d+="narrow: "+a.narrowEff+u),e.debugString=d,e.debugTimestamp=o.timing.timestamp}if(e.debugString){n.font="12px Arial",s.wireframes?n.fillStyle="rgba(255,255,255,0.5)":n.fillStyle="rgba(0,0,0,0.5)";for(var f=e.debugString.split("\n"),p=0;p<f.length;p++)n.fillText(f[p],50,50+18*p)}},o.constraints=function(e,t){for(var n=t,o=0;o<e.length;o++){var r=e[o];if(r.render.visible&&r.pointA&&r.pointB){var a,s,c=r.bodyA,u=r.bodyB;if(a=c?l.add(c.position,r.pointA):r.pointA,"pin"===r.render.type)n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.closePath();else{if(s=u?l.add(u.position,r.pointB):r.pointB,n.beginPath(),n.moveTo(a.x,a.y),"spring"===r.render.type)for(var d,f=l.sub(s,a),p=l.perp(l.normalise(f)),v=Math.ceil(i.clamp(r.length/5,12,20)),g=1;g<v;g+=1)d=g%2===0?1:-1,n.lineTo(a.x+f.x*(g/v)+p.x*d*4,a.y+f.y*(g/v)+p.y*d*4);n.lineTo(s.x,s.y)}r.render.lineWidth&&(n.lineWidth=r.render.lineWidth,n.strokeStyle=r.render.strokeStyle,n.stroke()),r.render.anchors&&(n.fillStyle=r.render.strokeStyle,n.beginPath(),n.arc(a.x,a.y,3,0,2*Math.PI),n.arc(s.x,s.y,3,0,2*Math.PI),n.closePath(),n.fill())}}},o.bodyShadows=function(e,t,n){for(var o=n,i=(e.engine,0);i<t.length;i++){var r=t[i];if(r.render.visible){if(r.circleRadius)o.beginPath(),o.arc(r.position.x,r.position.y,r.circleRadius,0,2*Math.PI),o.closePath();else{o.beginPath(),o.moveTo(r.vertices[0].x,r.vertices[0].y);for(var a=1;a<r.vertices.length;a++)o.lineTo(r.vertices[a].x,r.vertices[a].y);o.closePath()}var s=r.position.x-.5*e.options.width,c=r.position.y-.2*e.options.height,l=Math.abs(s)+Math.abs(c);o.shadowColor="rgba(0,0,0,0.15)",o.shadowOffsetX=.05*s,o.shadowOffsetY=.05*c,o.shadowBlur=1+12*Math.min(1,l/1e3),o.fill(),o.shadowColor=null,o.shadowOffsetX=null,o.shadowOffsetY=null,o.shadowBlur=null}}},o.bodies=function(e,t,n){var o,i,r,a,s=n,c=(e.engine,e.options),l=c.showInternalEdges||!c.wireframes;for(r=0;r<t.length;r++)if(o=t[r],o.render.visible)for(a=o.parts.length>1?1:0;a<o.parts.length;a++)if(i=o.parts[a],i.render.visible){if(c.showSleeping&&o.isSleeping?s.globalAlpha=.5*i.render.opacity:1!==i.render.opacity&&(s.globalAlpha=i.render.opacity),i.render.sprite&&i.render.sprite.texture&&!c.wireframes){var u=i.render.sprite,d=f(e,u.texture);s.translate(i.position.x,i.position.y),s.rotate(i.angle),s.drawImage(d,d.width*-u.xOffset*u.xScale,d.height*-u.yOffset*u.yScale,d.width*u.xScale,d.height*u.yScale),s.rotate(-i.angle),s.translate(-i.position.x,-i.position.y)}else{if(i.circleRadius)s.beginPath(),s.arc(i.position.x,i.position.y,i.circleRadius,0,2*Math.PI);else{s.beginPath(),s.moveTo(i.vertices[0].x,i.vertices[0].y);for(var p=1;p<i.vertices.length;p++)!i.vertices[p-1].isInternal||l?s.lineTo(i.vertices[p].x,i.vertices[p].y):s.moveTo(i.vertices[p].x,i.vertices[p].y),i.vertices[p].isInternal&&!l&&s.moveTo(i.vertices[(p+1)%i.vertices.length].x,i.vertices[(p+1)%i.vertices.length].y);s.lineTo(i.vertices[0].x,i.vertices[0].y),s.closePath()}c.wireframes?(s.lineWidth=1,s.strokeStyle="#bbb",s.stroke()):(s.fillStyle=i.render.fillStyle,i.render.lineWidth&&(s.lineWidth=i.render.lineWidth,s.strokeStyle=i.render.strokeStyle,s.stroke()),s.fill())}s.globalAlpha=1}},o.bodyWireframes=function(e,t,n){var o,i,r,a,s,c=n,l=e.options.showInternalEdges;for(c.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.render.visible)for(s=o.parts.length>1?1:0;s<o.parts.length;s++){for(i=o.parts[s],c.moveTo(i.vertices[0].x,i.vertices[0].y),a=1;a<i.vertices.length;a++)!i.vertices[a-1].isInternal||l?c.lineTo(i.vertices[a].x,i.vertices[a].y):c.moveTo(i.vertices[a].x,i.vertices[a].y),i.vertices[a].isInternal&&!l&&c.moveTo(i.vertices[(a+1)%i.vertices.length].x,i.vertices[(a+1)%i.vertices.length].y);c.lineTo(i.vertices[0].x,i.vertices[0].y)}c.lineWidth=1,c.strokeStyle="#bbb",c.stroke()},o.bodyConvexHulls=function(e,t,n){var o,i,r,a=n;for(a.beginPath(),i=0;i<t.length;i++)if(o=t[i],o.render.visible&&1!==o.parts.length){for(a.moveTo(o.vertices[0].x,o.vertices[0].y),r=1;r<o.vertices.length;r++)a.lineTo(o.vertices[r].x,o.vertices[r].y);a.lineTo(o.vertices[0].x,o.vertices[0].y)}a.lineWidth=1,a.strokeStyle="rgba(255,255,255,0.2)",a.stroke()},o.vertexNumbers=function(e,t,n){var o,i,r,a=n;for(o=0;o<t.length;o++){var s=t[o].parts;for(r=s.length>1?1:0;r<s.length;r++){var c=s[r];for(i=0;i<c.vertices.length;i++)a.fillStyle="rgba(255,255,255,0.2)",a.fillText(o+"_"+i,c.position.x+.8*(c.vertices[i].x-c.position.x),c.position.y+.8*(c.vertices[i].y-c.position.y))}}},o.mousePosition=function(e,t,n){var o=n;o.fillStyle="rgba(255,255,255,0.8)",o.fillText(t.position.x+"  "+t.position.y,t.position.x+5,t.position.y-5)},o.bodyBounds=function(e,t,n){var o=n,i=(e.engine,e.options);o.beginPath();for(var r=0;r<t.length;r++){var a=t[r];if(a.render.visible)for(var s=t[r].parts,c=s.length>1?1:0;c<s.length;c++){var l=s[c];o.rect(l.bounds.min.x,l.bounds.min.y,l.bounds.max.x-l.bounds.min.x,l.bounds.max.y-l.bounds.min.y)}}i.wireframes?o.strokeStyle="rgba(255,255,255,0.08)":o.strokeStyle="rgba(0,0,0,0.1)",o.lineWidth=1,o.stroke()},o.bodyAxes=function(e,t,n){var o,i,r,a,s=n,c=(e.engine,e.options);for(s.beginPath(),i=0;i<t.length;i++){var l=t[i],u=l.parts;if(l.render.visible)if(c.showAxes)for(r=u.length>1?1:0;r<u.length;r++)for(o=u[r],a=0;a<o.axes.length;a++){var d=o.axes[a];s.moveTo(o.position.x,o.position.y),s.lineTo(o.position.x+20*d.x,o.position.y+20*d.y)}else for(r=u.length>1?1:0;r<u.length;r++)for(o=u[r],a=0;a<o.axes.length;a++)s.moveTo(o.position.x,o.position.y),s.lineTo((o.vertices[0].x+o.vertices[o.vertices.length-1].x)/2,(o.vertices[0].y+o.vertices[o.vertices.length-1].y)/2)}c.wireframes?(s.strokeStyle="indianred",s.lineWidth=1):(s.strokeStyle="rgba(255, 255, 255, 0.4)",s.globalCompositeOperation="overlay",s.lineWidth=2),s.stroke(),s.globalCompositeOperation="source-over"},o.bodyPositions=function(e,t,n){var o,i,r,a,s=n,c=(e.engine,e.options);for(s.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.render.visible)for(a=0;a<o.parts.length;a++)i=o.parts[a],s.arc(i.position.x,i.position.y,3,0,2*Math.PI,!1),s.closePath();for(c.wireframes?s.fillStyle="indianred":s.fillStyle="rgba(0,0,0,0.5)",s.fill(),s.beginPath(),r=0;r<t.length;r++)o=t[r],o.render.visible&&(s.arc(o.positionPrev.x,o.positionPrev.y,2,0,2*Math.PI,!1),s.closePath());s.fillStyle="rgba(255,165,0,0.8)",s.fill()},o.bodyVelocity=function(e,t,n){var o=n;o.beginPath();for(var i=0;i<t.length;i++){var r=t[i];r.render.visible&&(o.moveTo(r.position.x,r.position.y),o.lineTo(r.position.x+2*(r.position.x-r.positionPrev.x),r.position.y+2*(r.position.y-r.positionPrev.y)))}o.lineWidth=3,o.strokeStyle="cornflowerblue",o.stroke()},o.bodyIds=function(e,t,n){var o,i,r=n;for(o=0;o<t.length;o++)if(t[o].render.visible){var a=t[o].parts;for(i=a.length>1?1:0;i<a.length;i++){var s=a[i];r.font="12px Arial",r.fillStyle="rgba(255,255,255,0.5)",r.fillText(s.id,s.position.x+10,s.position.y-10)}}},o.collisions=function(e,t,n){var o,i,r,a,s=n,c=e.options;for(s.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.isActive)for(i=o.collision,a=0;a<o.activeContacts.length;a++){var l=o.activeContacts[a],u=l.vertex;s.rect(u.x-1.5,u.y-1.5,3.5,3.5)}for(c.wireframes?s.fillStyle="rgba(255,255,255,0.7)":s.fillStyle="orange",s.fill(),s.beginPath(),r=0;r<t.length;r++)if(o=t[r],o.isActive&&(i=o.collision,o.activeContacts.length>0)){var d=o.activeContacts[0].vertex.x,f=o.activeContacts[0].vertex.y;2===o.activeContacts.length&&(d=(o.activeContacts[0].vertex.x+o.activeContacts[1].vertex.x)/2,f=(o.activeContacts[0].vertex.y+o.activeContacts[1].vertex.y)/2),i.bodyB===i.supports[0].body||!0===i.bodyA.isStatic?s.moveTo(d-8*i.normal.x,f-8*i.normal.y):s.moveTo(d+8*i.normal.x,f+8*i.normal.y),s.lineTo(d,f)}c.wireframes?s.strokeStyle="rgba(255,165,0,0.7)":s.strokeStyle="orange",s.lineWidth=1,s.stroke()},o.separations=function(e,t,n){var o,i,r,a,s,c=n,l=e.options;for(c.beginPath(),s=0;s<t.length;s++)if(o=t[s],o.isActive){i=o.collision,r=i.bodyA,a=i.bodyB;var u=1;a.isStatic||r.isStatic||(u=.5),a.isStatic&&(u=0),c.moveTo(a.position.x,a.position.y),c.lineTo(a.position.x-i.penetration.x*u,a.position.y-i.penetration.y*u),u=1,a.isStatic||r.isStatic||(u=.5),r.isStatic&&(u=0),c.moveTo(r.position.x,r.position.y),c.lineTo(r.position.x+i.penetration.x*u,r.position.y+i.penetration.y*u)}l.wireframes?c.strokeStyle="rgba(255,165,0,0.5)":c.strokeStyle="orange",c.stroke()},o.grid=function(e,t,n){var o=n,r=e.options;r.wireframes?o.strokeStyle="rgba(255,180,0,0.1)":o.strokeStyle="rgba(255,180,0,0.5)",o.beginPath();for(var a=i.keys(t.buckets),s=0;s<a.length;s++){var c=a[s];if(!(t.buckets[c].length<2)){var l=c.split(/C|R/);o.rect(.5+parseInt(l[1],10)*t.bucketWidth,.5+parseInt(l[2],10)*t.bucketHeight,t.bucketWidth,t.bucketHeight)}}o.lineWidth=1,o.stroke()},o.inspector=function(e,t){e.engine;var n,o=e.selected,i=e.render,r=i.options;if(r.hasBounds){var a=i.bounds.max.x-i.bounds.min.x,s=i.bounds.max.y-i.bounds.min.y,c=a/i.options.width,l=s/i.options.height;t.scale(1/c,1/l),t.translate(-i.bounds.min.x,-i.bounds.min.y)}for(var u=0;u<o.length;u++){var d=o[u].data;switch(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.9)",t.setLineDash([1,2]),d.type){case"body":n=d.bounds,t.beginPath(),t.rect(Math.floor(n.min.x-3),Math.floor(n.min.y-3),Math.floor(n.max.x-n.min.x+6),Math.floor(n.max.y-n.min.y+6)),t.closePath(),t.stroke();break;case"constraint":var f=d.pointA;d.bodyA&&(f=d.pointB),t.beginPath(),t.arc(f.x,f.y,10,0,2*Math.PI),t.closePath(),t.stroke();break}t.setLineDash([]),t.translate(-.5,-.5)}null!==e.selectStart&&(t.translate(.5,.5),t.lineWidth=1,t.strokeStyle="rgba(255,165,0,0.6)",t.fillStyle="rgba(255,165,0,0.1)",n=e.selectBounds,t.beginPath(),t.rect(Math.floor(n.min.x),Math.floor(n.min.y),Math.floor(n.max.x-n.min.x),Math.floor(n.max.y-n.min.y)),t.closePath(),t.stroke(),t.fill(),t.translate(-.5,-.5)),r.hasBounds&&t.setTransform(1,0,0,1,0,0)};var n=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n.oncontextmenu=function(){return!1},n.onselectstart=function(){return!1},n},d=function(e){var t=e.getContext("2d"),n=window.devicePixelRatio||1,o=t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1;return n/o},f=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=new Image,n.src=t,n)},p=function(e,t){var n=t;/(jpg|gif|png)$/.test(t)&&(n="url("+t+")"),e.canvas.style.background=n,e.canvas.style.backgroundSize="contain",e.currentBackground=t}})()},function(e,t,n){var o={};e.exports=o;var i=n(9),r=n(12),a=n(0);(function(){o.create=function(e){var t={controller:o,detector:r.collisions,buckets:{},pairs:{},pairsList:[],bucketWidth:48,bucketHeight:48};return a.extend(t,e)},o.update=function(e,t,n,i){var r,a,s,c,l,u=n.world,d=e.buckets,f=!1,p=n.metrics;for(p.broadphaseTests=0,r=0;r<t.length;r++){var v=t[r];if((!v.isSleeping||i)&&!(v.bounds.max.x<u.bounds.min.x||v.bounds.min.x>u.bounds.max.x||v.bounds.max.y<u.bounds.min.y||v.bounds.min.y>u.bounds.max.y)){var g=o._getRegion(e,v);if(!v.region||g.id!==v.region.id||i){p.broadphaseTests+=1,v.region&&!i||(v.region=g);var m=o._regionUnion(g,v.region);for(a=m.startCol;a<=m.endCol;a++)for(s=m.startRow;s<=m.endRow;s++){l=o._getBucketId(a,s),c=d[l];var h=a>=g.startCol&&a<=g.endCol&&s>=g.startRow&&s<=g.endRow,y=a>=v.region.startCol&&a<=v.region.endCol&&s>=v.region.startRow&&s<=v.region.endRow;!h&&y&&y&&c&&o._bucketRemoveBody(e,c,v),(v.region===g||h&&!y||i)&&(c||(c=o._createBucket(d,l)),o._bucketAddBody(e,c,v))}v.region=g,f=!0}}}f&&(e.pairsList=o._createActivePairsList(e))},o.clear=function(e){e.buckets={},e.pairs={},e.pairsList=[]},o._regionUnion=function(e,t){var n=Math.min(e.startCol,t.startCol),i=Math.max(e.endCol,t.endCol),r=Math.min(e.startRow,t.startRow),a=Math.max(e.endRow,t.endRow);return o._createRegion(n,i,r,a)},o._getRegion=function(e,t){var n=t.bounds,i=Math.floor(n.min.x/e.bucketWidth),r=Math.floor(n.max.x/e.bucketWidth),a=Math.floor(n.min.y/e.bucketHeight),s=Math.floor(n.max.y/e.bucketHeight);return o._createRegion(i,r,a,s)},o._createRegion=function(e,t,n,o){return{id:e+","+t+","+n+","+o,startCol:e,endCol:t,startRow:n,endRow:o}},o._getBucketId=function(e,t){return"C"+e+"R"+t},o._createBucket=function(e,t){var n=e[t]=[];return n},o._bucketAddBody=function(e,t,n){for(var o=0;o<t.length;o++){var r=t[o];if(!(n.id===r.id||n.isStatic&&r.isStatic)){var a=i.id(n,r),s=e.pairs[a];s?s[2]+=1:e.pairs[a]=[n,r,1]}}t.push(n)},o._bucketRemoveBody=function(e,t,n){t.splice(a.indexOf(t,n),1);for(var o=0;o<t.length;o++){var r=t[o],s=i.id(n,r),c=e.pairs[s];c&&(c[2]-=1)}},o._createActivePairsList=function(e){var t,n,o=[];t=a.keys(e.pairs);for(var i=0;i<t.length;i++)n=e.pairs[t[i]],n[2]>0?o.push(n):delete e.pairs[t[i]];return o}})()},function(e,t,n){var o={};e.exports=o;var i=n(13),r=n(9),a=n(1);(function(){o.collisions=function(e,t){for(var n=[],s=t.pairs.table,c=t.metrics,l=0;l<e.length;l++){var u=e[l][0],d=e[l][1];if((!u.isStatic&&!u.isSleeping||!d.isStatic&&!d.isSleeping)&&(o.canCollide(u.collisionFilter,d.collisionFilter)&&(c.midphaseTests+=1,a.overlaps(u.bounds,d.bounds))))for(var f=u.parts.length>1?1:0;f<u.parts.length;f++)for(var p=u.parts[f],v=d.parts.length>1?1:0;v<d.parts.length;v++){var g=d.parts[v];if(p===u&&g===d||a.overlaps(p.bounds,g.bounds)){var m,h=r.id(p,g),y=s[h];m=y&&y.isActive?y.collision:null;var b=i.collides(p,g,m);c.narrowphaseTests+=1,b.reused&&(c.narrowReuseCount+=1),b.collided&&(n.push(b),c.narrowDetections+=1)}}}return n},o.canCollide=function(e,t){return e.group===t.group&&0!==e.group?e.group>0:0!==(e.mask&t.category)&&0!==(t.mask&e.category)}})()},function(e,t,n){var o={};e.exports=o;var i=n(3),r=n(2);(function(){o.collides=function(e,t,n){var a,s,c,l,u=!1;if(n){var d=e.parent,f=t.parent,p=d.speed*d.speed+d.angularSpeed*d.angularSpeed+f.speed*f.speed+f.angularSpeed*f.angularSpeed;u=n&&n.collided&&p<.2,l=n}else l={collided:!1,bodyA:e,bodyB:t};if(n&&u){var v=l.axisBody,g=v===e?t:e,m=[v.axes[n.axisNumber]];if(c=o._overlapAxes(v.vertices,g.vertices,m),l.reused=!0,c.overlap<=0)return l.collided=!1,l}else{if(a=o._overlapAxes(e.vertices,t.vertices,e.axes),a.overlap<=0)return l.collided=!1,l;if(s=o._overlapAxes(t.vertices,e.vertices,t.axes),s.overlap<=0)return l.collided=!1,l;a.overlap<s.overlap?(c=a,l.axisBody=e):(c=s,l.axisBody=t),l.axisNumber=c.axisNumber}l.bodyA=e.id<t.id?e:t,l.bodyB=e.id<t.id?t:e,l.collided=!0,l.depth=c.overlap,l.parentA=l.bodyA.parent,l.parentB=l.bodyB.parent,e=l.bodyA,t=l.bodyB,r.dot(c.axis,r.sub(t.position,e.position))<0?l.normal={x:c.axis.x,y:c.axis.y}:l.normal={x:-c.axis.x,y:-c.axis.y},l.tangent=r.perp(l.normal),l.penetration=l.penetration||{},l.penetration.x=l.normal.x*l.depth,l.penetration.y=l.normal.y*l.depth;var h=o._findSupports(e,t,l.normal),y=[];if(i.contains(e.vertices,h[0])&&y.push(h[0]),i.contains(e.vertices,h[1])&&y.push(h[1]),y.length<2){var b=o._findSupports(t,e,r.neg(l.normal));i.contains(t.vertices,b[0])&&y.push(b[0]),y.length<2&&i.contains(t.vertices,b[1])&&y.push(b[1])}return y.length<1&&(y=[h[0]]),l.supports=y,l},o._overlapAxes=function(e,t,n){for(var i,a,s=r._temp[0],c=r._temp[1],l={overlap:Number.MAX_VALUE},u=0;u<n.length;u++){if(a=n[u],o._projectToAxis(s,e,a),o._projectToAxis(c,t,a),i=Math.min(s.max-c.min,c.max-s.min),i<=0)return l.overlap=i,l;i<l.overlap&&(l.overlap=i,l.axis=a,l.axisNumber=u)}return l},o._projectToAxis=function(e,t,n){for(var o=r.dot(t[0],n),i=o,a=1;a<t.length;a+=1){var s=r.dot(t[a],n);s>i?i=s:s<o&&(o=s)}e.min=o,e.max=i},o._findSupports=function(e,t,n){for(var o,i,a,s,c=Number.MAX_VALUE,l=r._temp[0],u=t.vertices,d=e.position,f=0;f<u.length;f++)i=u[f],l.x=i.x-d.x,l.y=i.y-d.y,o=-r.dot(n,l),o<c&&(c=o,a=i);var p=a.index-1>=0?a.index-1:u.length-1;i=u[p],l.x=i.x-d.x,l.y=i.y-d.y,c=-r.dot(n,l),s=i;var v=(a.index+1)%u.length;return i=u[v],l.x=i.x-d.x,l.y=i.y-d.y,o=-r.dot(n,l),o<c&&(s=i),[a,s]}})()},function(e,t,n){var o={};e.exports=o;var i=n(0);(function(){o.create=function(e){var t={};return e||i.log("Mouse.create: element was undefined, defaulting to document.body","warn"),t.element=e||document.body,t.absolute={x:0,y:0},t.position={x:0,y:0},t.mousedownPosition={x:0,y:0},t.mouseupPosition={x:0,y:0},t.offset={x:0,y:0},t.scale={x:1,y:1},t.wheelDelta=0,t.button=-1,t.pixelRatio=parseInt(t.element.getAttribute("data-pixel-ratio"),10)||1,t.sourceEvents={mousemove:null,mousedown:null,mouseup:null,mousewheel:null},t.mousemove=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio),i=e.changedTouches;i&&(t.button=0,e.preventDefault()),t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.sourceEvents.mousemove=e},t.mousedown=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio),i=e.changedTouches;i?(t.button=0,e.preventDefault()):t.button=e.button,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mousedownPosition.x=t.position.x,t.mousedownPosition.y=t.position.y,t.sourceEvents.mousedown=e},t.mouseup=function(e){var n=o._getRelativeMousePosition(e,t.element,t.pixelRatio),i=e.changedTouches;i&&e.preventDefault(),t.button=-1,t.absolute.x=n.x,t.absolute.y=n.y,t.position.x=t.absolute.x*t.scale.x+t.offset.x,t.position.y=t.absolute.y*t.scale.y+t.offset.y,t.mouseupPosition.x=t.position.x,t.mouseupPosition.y=t.position.y,t.sourceEvents.mouseup=e},t.mousewheel=function(e){t.wheelDelta=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),e.preventDefault()},o.setElement(t,t.element),t},o.setElement=function(e,t){e.element=t,t.addEventListener("mousemove",e.mousemove),t.addEventListener("mousedown",e.mousedown),t.addEventListener("mouseup",e.mouseup),t.addEventListener("mousewheel",e.mousewheel),t.addEventListener("DOMMouseScroll",e.mousewheel),t.addEventListener("touchmove",e.mousemove),t.addEventListener("touchstart",e.mousedown),t.addEventListener("touchend",e.mouseup)},o.clearSourceEvents=function(e){e.sourceEvents.mousemove=null,e.sourceEvents.mousedown=null,e.sourceEvents.mouseup=null,e.sourceEvents.mousewheel=null,e.wheelDelta=0},o.setOffset=function(e,t){e.offset.x=t.x,e.offset.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o.setScale=function(e,t){e.scale.x=t.x,e.scale.y=t.y,e.position.x=e.absolute.x*e.scale.x+e.offset.x,e.position.y=e.absolute.y*e.scale.y+e.offset.y},o._getRelativeMousePosition=function(e,t,n){var o,i,r=t.getBoundingClientRect(),a=document.documentElement||document.body.parentNode||document.body,s=void 0!==window.pageXOffset?window.pageXOffset:a.scrollLeft,c=void 0!==window.pageYOffset?window.pageYOffset:a.scrollTop,l=e.changedTouches;return l?(o=l[0].pageX-r.left-s,i=l[0].pageY-r.top-c):(o=e.pageX-r.left-s,i=e.pageY-r.top-c),{x:o/(t.clientWidth/(t.width||t.clientWidth)*n),y:i/(t.clientHeight/(t.height||t.clientHeight)*n)}}})()},function(e,t,n){var o={};e.exports=o;var i=n(2),r=n(0);(function(){o.fromVertices=function(e){for(var t={},n=0;n<e.length;n++){var o=(n+1)%e.length,a=i.normalise({x:e[o].y-e[n].y,y:e[n].x-e[o].x}),s=0===a.y?1/0:a.x/a.y;s=s.toFixed(3).toString(),t[s]=a}return r.values(t)},o.rotate=function(e,t){if(0!==t)for(var n=Math.cos(t),o=Math.sin(t),i=0;i<e.length;i++){var r,a=e[i];r=a.x*n-a.y*o,a.y=a.x*o+a.y*n,a.x=r}}})()},function(e,t,n){var o={};e.exports=o;var i=n(3),r=n(0),a=n(6),s=n(1),c=n(2);(function(){o._decompWarned=!1,o.rectangle=function(e,t,n,o,s){s=s||{};var c={label:"Rectangle Body",position:{x:e,y:t},vertices:i.fromPath("L 0 0 L "+n+" 0 L "+n+" "+o+" L 0 "+o)};if(s.chamfer){var l=s.chamfer;c.vertices=i.chamfer(c.vertices,l.radius,l.quality,l.qualityMin,l.qualityMax),delete s.chamfer}return a.create(r.extend({},c,s))},o.trapezoid=function(e,t,n,o,s,c){c=c||{},s*=.5;var l,u=(1-2*s)*n,d=n*s,f=d+u,p=f+d;l=s<.5?"L 0 0 L "+d+" "+-o+" L "+f+" "+-o+" L "+p+" 0":"L 0 0 L "+f+" "+-o+" L "+p+" 0";var v={label:"Trapezoid Body",position:{x:e,y:t},vertices:i.fromPath(l)};if(c.chamfer){var g=c.chamfer;v.vertices=i.chamfer(v.vertices,g.radius,g.quality,g.qualityMin,g.qualityMax),delete c.chamfer}return a.create(r.extend({},v,c))},o.circle=function(e,t,n,i,a){i=i||{};var s={label:"Circle Body",circleRadius:n};a=a||25;var c=Math.ceil(Math.max(10,Math.min(a,n)));return c%2===1&&(c+=1),o.polygon(e,t,c,n,r.extend({},s,i))},o.polygon=function(e,t,n,s,c){if(c=c||{},n<3)return o.circle(e,t,s,c);for(var l=2*Math.PI/n,u="",d=.5*l,f=0;f<n;f+=1){var p=d+f*l,v=Math.cos(p)*s,g=Math.sin(p)*s;u+="L "+v.toFixed(3)+" "+g.toFixed(3)+" "}var m={label:"Polygon Body",position:{x:e,y:t},vertices:i.fromPath(u)};if(c.chamfer){var h=c.chamfer;m.vertices=i.chamfer(m.vertices,h.radius,h.quality,h.qualityMin,h.qualityMax),delete c.chamfer}return a.create(r.extend({},m,c))},o.fromVertices=function(e,t,l,u,d,f,p,v){var g,m,h,y,b,x,w,S,O,A,C,j;try{g=n(27)}catch(L){g=null}for(m=Boolean(g&&g.quickDecomp),u=u||{},y=[],d="undefined"!==typeof d&&d,f="undefined"!==typeof f?f:.01,p="undefined"!==typeof p?p:10,v="undefined"!==typeof v?v:.01,r.isArray(l[0])||(l=[l]),C=0;C<l.length;C+=1)if(w=l[C],b=i.isConvex(w),x=!b,!x||m||o._decompWarned||(r.warn("Could not resolve the expected 'poly-decomp' package for concave vertices in 'Bodies.fromVertices'"),r.warn("Try 'npm install poly-decomp --save' or as a global e.g. 'window.decomp'"),o._decompWarned=!0),b||!m)w=b?i.clockwiseSort(w):i.hull(w),y.push({position:{x:e,y:t},vertices:w});else{var k=w.map((function(e){return[e.x,e.y]}));g.makeCCW(k),!1!==f&&g.removeCollinearPoints(k,f),!1!==v&&g.removeDuplicatePoints&&g.removeDuplicatePoints(k,v);var P=g.quickDecomp(k);for(S=0;S<P.length;S++){var B=P[S],M=B.map((function(e){return{x:e[0],y:e[1]}}));p>0&&i.area(M)<p||y.push({position:i.centre(M),vertices:M})}}for(S=0;S<y.length;S++)y[S]=a.create(r.extend(y[S],u));if(d){var I=5;for(S=0;S<y.length;S++){var _=y[S];for(O=S+1;O<y.length;O++){var T=y[O];if(s.overlaps(_.bounds,T.bounds)){var R=_.vertices,E=T.vertices;for(A=0;A<_.vertices.length;A++)for(j=0;j<T.vertices.length;j++){var N=c.magnitudeSquared(c.sub(R[(A+1)%R.length],E[j])),W=c.magnitudeSquared(c.sub(R[A],E[(j+1)%E.length]));N<I&&W<I&&(R[A].isInternal=!0,E[j].isInternal=!0)}}}}}return y.length>1?(h=a.create(r.extend({parts:y.slice(0)},u)),a.setPosition(h,{x:e,y:t}),h):y[0]}})()},function(e,t,n){var o={};e.exports=o;var i=n(0);(function(){o._registry={},o.register=function(e){if(o.isPlugin(e)||i.warn("Plugin.register:",o.toString(e),"does not implement all required fields."),e.name in o._registry){var t=o._registry[e.name],n=o.versionParse(e.version).number,r=o.versionParse(t.version).number;n>r?(i.warn("Plugin.register:",o.toString(t),"was upgraded to",o.toString(e)),o._registry[e.name]=e):n<r?i.warn("Plugin.register:",o.toString(t),"can not be downgraded to",o.toString(e)):e!==t&&i.warn("Plugin.register:",o.toString(e),"is already registered to different plugin object")}else o._registry[e.name]=e;return e},o.resolve=function(e){return o._registry[o.dependencyParse(e).name]},o.toString=function(e){return"string"===typeof e?e:(e.name||"anonymous")+"@"+(e.version||e.range||"0.0.0")},o.isPlugin=function(e){return e&&e.name&&e.version&&e.install},o.isUsed=function(e,t){return e.used.indexOf(t)>-1},o.isFor=function(e,t){var n=e.for&&o.dependencyParse(e.for);return!e.for||t.name===n.name&&o.versionSatisfies(t.version,n.range)},o.use=function(e,t){if(e.uses=(e.uses||[]).concat(t||[]),0!==e.uses.length){for(var n=o.dependencies(e),r=i.topologicalSort(n),a=[],s=0;s<r.length;s+=1)if(r[s]!==e.name){var c=o.resolve(r[s]);c?o.isUsed(e,c.name)||(o.isFor(c,e)||(i.warn("Plugin.use:",o.toString(c),"is for",c.for,"but installed on",o.toString(e)+"."),c._warned=!0),c.install?c.install(e):(i.warn("Plugin.use:",o.toString(c),"does not specify an install function."),c._warned=!0),c._warned?(a.push("🔶 "+o.toString(c)),delete c._warned):a.push("✅ "+o.toString(c)),e.used.push(c.name)):a.push("❌ "+r[s])}a.length>0&&i.info(a.join("  "))}else i.warn("Plugin.use:",o.toString(e),"does not specify any dependencies to install.")},o.dependencies=function(e,t){var n=o.dependencyParse(e),r=n.name;if(t=t||{},!(r in t)){e=o.resolve(e)||e,t[r]=i.map(e.uses||[],(function(t){o.isPlugin(t)&&o.register(t);var r=o.dependencyParse(t),a=o.resolve(t);return a&&!o.versionSatisfies(a.version,r.range)?(i.warn("Plugin.dependencies:",o.toString(a),"does not satisfy",o.toString(r),"used by",o.toString(n)+"."),a._warned=!0,e._warned=!0):a||(i.warn("Plugin.dependencies:",o.toString(t),"used by",o.toString(n),"could not be resolved."),e._warned=!0),r.name}));for(var a=0;a<t[r].length;a+=1)o.dependencies(t[r][a],t);return t}},o.dependencyParse=function(e){if(i.isString(e)){var t=/^[\w-]+(@(\*|[\^~]?\d+\.\d+\.\d+(-[0-9A-Za-z-]+)?))?$/;return t.test(e)||i.warn("Plugin.dependencyParse:",e,"is not a valid dependency string."),{name:e.split("@")[0],range:e.split("@")[1]||"*"}}return{name:e.name,range:e.range||e.version}},o.versionParse=function(e){var t=/^(\*)|(\^|~|>=|>)?\s*((\d+)\.(\d+)\.(\d+))(-[0-9A-Za-z-]+)?$/;t.test(e)||i.warn("Plugin.versionParse:",e,"is not a valid version or range.");var n=t.exec(e),o=Number(n[4]),r=Number(n[5]),a=Number(n[6]);return{isRange:Boolean(n[1]||n[2]),version:n[3],range:e,operator:n[1]||n[2]||"",major:o,minor:r,patch:a,parts:[o,r,a],prerelease:n[7],number:1e8*o+1e4*r+a}},o.versionSatisfies=function(e,t){t=t||"*";var n=o.versionParse(t),i=o.versionParse(e);if(n.isRange){if("*"===n.operator||"*"===e)return!0;if(">"===n.operator)return i.number>n.number;if(">="===n.operator)return i.number>=n.number;if("~"===n.operator)return i.major===n.major&&i.minor===n.minor&&i.patch>=n.patch;if("^"===n.operator)return n.major>0?i.major===n.major&&i.number>=n.number:n.minor>0?i.minor===n.minor&&i.patch>=n.patch:i.patch===n.patch}return e===t||"*"===e}})()},function(e,t){var n={};e.exports=n,function(){n.create=function(e){return{id:n.id(e),vertex:e,normalImpulse:0,tangentImpulse:0}},n.id=function(e){return e.body.id+"_"+e.index}}()},function(e,t,n){var o={};e.exports=o;var i=n(5),r=(n(8),n(0));(function(){o.create=function(e){var t=i.create(),n={label:"World",gravity:{x:0,y:1,scale:.001},bounds:{min:{x:-1/0,y:-1/0},max:{x:1/0,y:1/0}}};return r.extend(t,n,e)}})()},function(e,t,n){var o={};e.exports=o;var i=n(9),r=n(0);(function(){o._pairMaxIdleLife=1e3,o.create=function(e){return r.extend({table:{},list:[],collisionStart:[],collisionActive:[],collisionEnd:[]},e)},o.update=function(e,t,n){var o,r,a,s,c=e.list,l=e.table,u=e.collisionStart,d=e.collisionEnd,f=e.collisionActive;for(u.length=0,d.length=0,f.length=0,s=0;s<c.length;s++)c[s].confirmedActive=!1;for(s=0;s<t.length;s++)o=t[s],o.collided&&(r=i.id(o.bodyA,o.bodyB),a=l[r],a?(a.isActive?f.push(a):u.push(a),i.update(a,o,n),a.confirmedActive=!0):(a=i.create(o,n),l[r]=a,u.push(a),c.push(a)));for(s=0;s<c.length;s++)a=c[s],a.isActive&&!a.confirmedActive&&(i.setActive(a,!1,n),d.push(a))},o.removeOld=function(e,t){var n,i,r,a,s=e.list,c=e.table,l=[];for(a=0;a<s.length;a++)n=s[a],i=n.collision,i.bodyA.isSleeping||i.bodyB.isSleeping?n.timeUpdated=t:t-n.timeUpdated>o._pairMaxIdleLife&&l.push(a);for(a=0;a<l.length;a++)r=l[a]-a,n=s[r],delete c[n.id],s.splice(r,1)},o.clear=function(e){return e.table={},e.list.length=0,e.collisionStart.length=0,e.collisionActive.length=0,e.collisionEnd.length=0,e}})()},function(e,t,n){var o={};e.exports=o;var i=n(3),r=n(2),a=n(0),s=n(1);(function(){o._restingThresh=4,o._restingThreshTangent=6,o._positionDampen=.9,o._positionWarming=.8,o._frictionNormalMultiplier=5,o.preSolvePosition=function(e){var t,n,o;for(t=0;t<e.length;t++)n=e[t],n.isActive&&(o=n.activeContacts.length,n.collision.parentA.totalContacts+=o,n.collision.parentB.totalContacts+=o)},o.solvePosition=function(e,t){var n,i,a,s,c,l,u,d,f,p=r._temp[0],v=r._temp[1],g=r._temp[2],m=r._temp[3];for(n=0;n<e.length;n++)i=e[n],i.isActive&&!i.isSensor&&(a=i.collision,s=a.parentA,c=a.parentB,l=a.normal,u=r.sub(r.add(c.positionImpulse,c.position,p),r.add(s.positionImpulse,r.sub(c.position,a.penetration,v),g),m),i.separation=r.dot(l,u));for(n=0;n<e.length;n++)i=e[n],i.isActive&&!i.isSensor&&(a=i.collision,s=a.parentA,c=a.parentB,l=a.normal,f=(i.separation-i.slop)*t,(s.isStatic||c.isStatic)&&(f*=2),s.isStatic||s.isSleeping||(d=o._positionDampen/s.totalContacts,s.positionImpulse.x+=l.x*f*d,s.positionImpulse.y+=l.y*f*d),c.isStatic||c.isSleeping||(d=o._positionDampen/c.totalContacts,c.positionImpulse.x-=l.x*f*d,c.positionImpulse.y-=l.y*f*d))},o.postSolvePosition=function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.totalContacts=0,0!==n.positionImpulse.x||0!==n.positionImpulse.y){for(var a=0;a<n.parts.length;a++){var c=n.parts[a];i.translate(c.vertices,n.positionImpulse),s.update(c.bounds,c.vertices,n.velocity),c.position.x+=n.positionImpulse.x,c.position.y+=n.positionImpulse.y}n.positionPrev.x+=n.positionImpulse.x,n.positionPrev.y+=n.positionImpulse.y,r.dot(n.positionImpulse,n.velocity)<0?(n.positionImpulse.x=0,n.positionImpulse.y=0):(n.positionImpulse.x*=o._positionWarming,n.positionImpulse.y*=o._positionWarming)}}},o.preSolveVelocity=function(e){var t,n,o,i,a,s,c,l,u,d,f,p,v,g,m=r._temp[0],h=r._temp[1];for(t=0;t<e.length;t++)if(o=e[t],o.isActive&&!o.isSensor)for(i=o.activeContacts,a=o.collision,s=a.parentA,c=a.parentB,l=a.normal,u=a.tangent,n=0;n<i.length;n++)d=i[n],f=d.vertex,p=d.normalImpulse,v=d.tangentImpulse,0===p&&0===v||(m.x=l.x*p+u.x*v,m.y=l.y*p+u.y*v,s.isStatic||s.isSleeping||(g=r.sub(f,s.position,h),s.positionPrev.x+=m.x*s.inverseMass,s.positionPrev.y+=m.y*s.inverseMass,s.anglePrev+=r.cross(g,m)*s.inverseInertia),c.isStatic||c.isSleeping||(g=r.sub(f,c.position,h),c.positionPrev.x-=m.x*c.inverseMass,c.positionPrev.y-=m.y*c.inverseMass,c.anglePrev-=r.cross(g,m)*c.inverseInertia))},o.solveVelocity=function(e,t){for(var n=t*t,i=r._temp[0],s=r._temp[1],c=r._temp[2],l=r._temp[3],u=r._temp[4],d=r._temp[5],f=0;f<e.length;f++){var p=e[f];if(p.isActive&&!p.isSensor){var v=p.collision,g=v.parentA,m=v.parentB,h=v.normal,y=v.tangent,b=p.activeContacts,x=1/b.length;g.velocity.x=g.position.x-g.positionPrev.x,g.velocity.y=g.position.y-g.positionPrev.y,m.velocity.x=m.position.x-m.positionPrev.x,m.velocity.y=m.position.y-m.positionPrev.y,g.angularVelocity=g.angle-g.anglePrev,m.angularVelocity=m.angle-m.anglePrev;for(var w=0;w<b.length;w++){var S=b[w],O=S.vertex,A=r.sub(O,g.position,s),C=r.sub(O,m.position,c),j=r.add(g.velocity,r.mult(r.perp(A),g.angularVelocity),l),k=r.add(m.velocity,r.mult(r.perp(C),m.angularVelocity),u),P=r.sub(j,k,d),B=r.dot(h,P),M=r.dot(y,P),I=Math.abs(M),_=a.sign(M),T=(1+p.restitution)*B,R=a.clamp(p.separation+B,0,1)*o._frictionNormalMultiplier,E=M,N=1/0;I>p.friction*p.frictionStatic*R*n&&(N=I,E=a.clamp(p.friction*_*n,-N,N));var W=r.cross(A,h),L=r.cross(C,h),F=x/(g.inverseMass+m.inverseMass+g.inverseInertia*W*W+m.inverseInertia*L*L);if(T*=F,E*=F,B<0&&B*B>o._restingThresh*n)S.normalImpulse=0;else{var V=S.normalImpulse;S.normalImpulse=Math.min(S.normalImpulse+T,0),T=S.normalImpulse-V}if(M*M>o._restingThreshTangent*n)S.tangentImpulse=0;else{var D=S.tangentImpulse;S.tangentImpulse=a.clamp(S.tangentImpulse+E,-N,N),E=S.tangentImpulse-D}i.x=h.x*T+y.x*E,i.y=h.y*T+y.y*E,g.isStatic||g.isSleeping||(g.positionPrev.x+=i.x*g.inverseMass,g.positionPrev.y+=i.y*g.inverseMass,g.anglePrev+=r.cross(A,i)*g.inverseInertia),m.isStatic||m.isSleeping||(m.positionPrev.x-=i.x*m.inverseMass,m.positionPrev.y-=i.y*m.inverseMass,m.anglePrev-=r.cross(C,i)*m.inverseInertia)}}}}})()},function(e,t,n){var o={};e.exports=o;var i=n(19),r=n(7),a=n(21),s=n(10),c=n(20),l=n(23),u=n(11),d=n(4),f=n(5),p=n(8),v=n(0),g=n(6);(function(){o.create=function(e,t){t=v.isElement(e)?t:e,e=v.isElement(e)?e:null,t=t||{},(e||t.render)&&v.warn("Engine.create: engine.render is deprecated (see docs)");var n={positionIterations:6,velocityIterations:4,constraintIterations:2,enableSleeping:!1,events:[],plugin:{},timing:{timestamp:0,timeScale:1},broadphase:{controller:u}},o=v.extend(n,t);if(e||o.render){var r={element:e,controller:s};o.render=v.extend(r,o.render)}return o.render&&o.render.controller&&(o.render=o.render.controller.create(o.render)),o.render&&(o.render.engine=o),o.world=t.world||i.create(o.world),o.pairs=c.create(),o.broadphase=o.broadphase.controller.create(o.broadphase),o.metrics=o.metrics||{extended:!1},o.metrics=l.create(o.metrics),o},o.update=function(e,t,n){t=t||1e3/60,n=n||1;var i,s=e.world,u=e.timing,v=e.broadphase,g=[];u.timestamp+=t*u.timeScale;var m={timestamp:u.timestamp};d.trigger(e,"beforeUpdate",m);var h=f.allBodies(s),y=f.allConstraints(s);for(l.reset(e.metrics),e.enableSleeping&&r.update(h,u.timeScale),o._bodiesApplyGravity(h,s.gravity),o._bodiesUpdate(h,t,u.timeScale,n,s.bounds),p.preSolveAll(h),i=0;i<e.constraintIterations;i++)p.solveAll(y,u.timeScale);p.postSolveAll(h),v.controller?(s.isModified&&v.controller.clear(v),v.controller.update(v,h,e,s.isModified),g=v.pairsList):g=h,s.isModified&&f.setModified(s,!1,!1,!0);var b=v.detector(g,e),x=e.pairs,w=u.timestamp;for(c.update(x,b,w),c.removeOld(x,w),e.enableSleeping&&r.afterCollisions(x.list,u.timeScale),x.collisionStart.length>0&&d.trigger(e,"collisionStart",{pairs:x.collisionStart}),a.preSolvePosition(x.list),i=0;i<e.positionIterations;i++)a.solvePosition(x.list,u.timeScale);for(a.postSolvePosition(h),p.preSolveAll(h),i=0;i<e.constraintIterations;i++)p.solveAll(y,u.timeScale);for(p.postSolveAll(h),a.preSolveVelocity(x.list),i=0;i<e.velocityIterations;i++)a.solveVelocity(x.list,u.timeScale);return x.collisionActive.length>0&&d.trigger(e,"collisionActive",{pairs:x.collisionActive}),x.collisionEnd.length>0&&d.trigger(e,"collisionEnd",{pairs:x.collisionEnd}),l.update(e.metrics,e),o._bodiesClearForces(h),d.trigger(e,"afterUpdate",m),e},o.merge=function(e,t){if(v.extend(e,t),t.world){e.world=t.world,o.clear(e);for(var n=f.allBodies(e.world),i=0;i<n.length;i++){var a=n[i];r.set(a,!1),a.id=v.nextId()}}},o.clear=function(e){var t=e.world;c.clear(e.pairs);var n=e.broadphase;if(n.controller){var o=f.allBodies(t);n.controller.clear(n),n.controller.update(n,o,e,!0)}},o._bodiesClearForces=function(e){for(var t=0;t<e.length;t++){var n=e[t];n.force.x=0,n.force.y=0,n.torque=0}},o._bodiesApplyGravity=function(e,t){var n="undefined"!==typeof t.scale?t.scale:.001;if((0!==t.x||0!==t.y)&&0!==n)for(var o=0;o<e.length;o++){var i=e[o];i.isStatic||i.isSleeping||(i.force.y+=i.mass*t.y*n,i.force.x+=i.mass*t.x*n)}},o._bodiesUpdate=function(e,t,n,o,i){for(var r=0;r<e.length;r++){var a=e[r];a.isStatic||a.isSleeping||g.update(a,t,n,o)}}})()},function(e,t,n){var o={};e.exports=o;var i=n(5),r=n(0);(function(){o.create=function(e){var t={extended:!1,narrowDetections:0,narrowphaseTests:0,narrowReuse:0,narrowReuseCount:0,midphaseTests:0,broadphaseTests:0,narrowEff:1e-4,midEff:1e-4,broadEff:1e-4,collisions:0,buckets:0,bodies:0,pairs:0};return r.extend(t,!1,e)},o.reset=function(e){e.extended&&(e.narrowDetections=0,e.narrowphaseTests=0,e.narrowReuse=0,e.narrowReuseCount=0,e.midphaseTests=0,e.broadphaseTests=0,e.narrowEff=0,e.midEff=0,e.broadEff=0,e.collisions=0,e.buckets=0,e.pairs=0,e.bodies=0)},o.update=function(e,t){if(e.extended){var n=t.world,o=i.allBodies(n);e.collisions=e.narrowDetections,e.pairs=t.pairs.list.length,e.bodies=o.length,e.midEff=(e.narrowDetections/(e.midphaseTests||1)).toFixed(2),e.narrowEff=(e.narrowDetections/(e.narrowphaseTests||1)).toFixed(2),e.broadEff=(1-e.broadphaseTests/(o.length||1)).toFixed(2),e.narrowReuse=(e.narrowReuseCount/(e.narrowphaseTests||1)).toFixed(2)}}})()},function(e,t,n){var o=e.exports=n(25);o.Body=n(6),o.Composite=n(5),o.World=n(19),o.Contact=n(18),o.Detector=n(12),o.Grid=n(11),o.Pairs=n(20),o.Pair=n(9),o.Query=n(26),o.Resolver=n(21),o.SAT=n(13),o.Constraint=n(8),o.MouseConstraint=n(28),o.Common=n(0),o.Engine=n(22),o.Events=n(4),o.Mouse=n(14),o.Runner=n(29),o.Sleeping=n(7),o.Plugin=n(17),o.Metrics=n(23),o.Bodies=n(16),o.Composites=n(30),o.Axes=n(15),o.Bounds=n(1),o.Svg=n(31),o.Vector=n(2),o.Vertices=n(3),o.Render=n(10),o.RenderPixi=n(32),o.World.add=o.Composite.add,o.World.remove=o.Composite.remove,o.World.addComposite=o.Composite.addComposite,o.World.addBody=o.Composite.addBody,o.World.addConstraint=o.Composite.addConstraint,o.World.clear=o.Composite.clear,o.Engine.run=o.Runner.run},function(e,t,n){var o={};e.exports=o;var i=n(17),r=n(0);(function(){o.name="matter-js",o.version="0.16.1",o.uses=[],o.used=[],o.use=function(){i.use(o,Array.prototype.slice.call(arguments))},o.before=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathBefore(o,e,t)},o.after=function(e,t){return e=e.replace(/^Matter./,""),r.chainPathAfter(o,e,t)}})()},function(e,t,n){var o={};e.exports=o;var i=n(2),r=n(13),a=n(1),s=n(16),c=n(3);(function(){o.collides=function(e,t){for(var n=[],o=0;o<t.length;o++){var i=t[o];if(a.overlaps(i.bounds,e.bounds))for(var s=1===i.parts.length?0:1;s<i.parts.length;s++){var c=i.parts[s];if(a.overlaps(c.bounds,e.bounds)){var l=r.collides(c,e);if(l.collided){n.push(l);break}}}}return n},o.ray=function(e,t,n,r){r=r||1e-100;for(var a=i.angle(t,n),c=i.magnitude(i.sub(t,n)),l=.5*(n.x+t.x),u=.5*(n.y+t.y),d=s.rectangle(l,u,c,r,{angle:a}),f=o.collides(d,e),p=0;p<f.length;p+=1){var v=f[p];v.body=v.bodyB=v.bodyA}return f},o.region=function(e,t,n){for(var o=[],i=0;i<e.length;i++){var r=e[i],s=a.overlaps(r.bounds,t);(s&&!n||!s&&n)&&o.push(r)}return o},o.point=function(e,t){for(var n=[],o=0;o<e.length;o++){var i=e[o];if(a.contains(i.bounds,t))for(var r=1===i.parts.length?0:1;r<i.parts.length;r++){var s=i.parts[r];if(a.contains(s.bounds,t)&&c.contains(s.vertices,t)){n.push(i);break}}}return n}})()},function(t,n){if("undefined"===typeof e){var o=new Error("Cannot find module 'undefined'");throw o.code="MODULE_NOT_FOUND",o}t.exports=e},function(e,t,n){var o={};e.exports=o;var i=n(3),r=n(7),a=n(14),s=n(4),c=n(12),l=n(8),u=n(5),d=n(0),f=n(1);(function(){o.create=function(e,t){var n=(e?e.mouse:null)||(t?t.mouse:null);n||(e&&e.render&&e.render.canvas?n=a.create(e.render.canvas):t&&t.element?n=a.create(t.element):(n=a.create(),d.warn("MouseConstraint.create: options.mouse was undefined, options.element was undefined, may not function as expected")));var i=l.create({label:"Mouse Constraint",pointA:n.position,pointB:{x:0,y:0},length:.01,stiffness:.1,angularStiffness:1,render:{strokeStyle:"#90EE90",lineWidth:3}}),r={type:"mouseConstraint",mouse:n,element:null,body:null,constraint:i,collisionFilter:{category:1,mask:4294967295,group:0}},c=d.extend(r,t);return s.on(e,"beforeUpdate",(function(){var t=u.allBodies(e.world);o.update(c,t),o._triggerEvents(c)})),c},o.update=function(e,t){var n=e.mouse,o=e.constraint,a=e.body;if(0===n.button){if(o.bodyB)r.set(o.bodyB,!1),o.pointA=n.position;else for(var l=0;l<t.length;l++)if(a=t[l],f.contains(a.bounds,n.position)&&c.canCollide(a.collisionFilter,e.collisionFilter))for(var u=a.parts.length>1?1:0;u<a.parts.length;u++){var d=a.parts[u];if(i.contains(d.vertices,n.position)){o.pointA=n.position,o.bodyB=e.body=a,o.pointB={x:n.position.x-a.position.x,y:n.position.y-a.position.y},o.angleB=a.angle,r.set(a,!1),s.trigger(e,"startdrag",{mouse:n,body:a});break}}}else o.bodyB=e.body=null,o.pointB=null,a&&s.trigger(e,"enddrag",{mouse:n,body:a})},o._triggerEvents=function(e){var t=e.mouse,n=t.sourceEvents;n.mousemove&&s.trigger(e,"mousemove",{mouse:t}),n.mousedown&&s.trigger(e,"mousedown",{mouse:t}),n.mouseup&&s.trigger(e,"mouseup",{mouse:t}),a.clearSourceEvents(t)}})()},function(e,t,n){var o={};e.exports=o;var i=n(4),r=n(22),a=n(0);(function(){var e,t,n;("undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),e)||(e=function(e){n=setTimeout((function(){e(a.now())}),1e3/60)},t=function(){clearTimeout(n)});o.create=function(e){var t={fps:60,correction:1,deltaSampleSize:60,counterTimestamp:0,frameCounter:0,deltaHistory:[],timePrev:null,timeScalePrev:1,frameRequestId:null,isFixed:!1,enabled:!0},n=a.extend(t,e);return n.delta=n.delta||1e3/n.fps,n.deltaMin=n.deltaMin||1e3/n.fps,n.deltaMax=n.deltaMax||1e3/(.5*n.fps),n.fps=1e3/n.delta,n},o.run=function(t,n){return"undefined"!==typeof t.positionIterations&&(n=t,t=o.create()),function i(r){t.frameRequestId=e(i),r&&t.enabled&&o.tick(t,n,r)}(),t},o.tick=function(e,t,n){var o,a=t.timing,s=1,c={timestamp:a.timestamp};i.trigger(e,"beforeTick",c),i.trigger(t,"beforeTick",c),e.isFixed?o=e.delta:(o=n-e.timePrev||e.delta,e.timePrev=n,e.deltaHistory.push(o),e.deltaHistory=e.deltaHistory.slice(-e.deltaSampleSize),o=Math.min.apply(null,e.deltaHistory),o=o<e.deltaMin?e.deltaMin:o,o=o>e.deltaMax?e.deltaMax:o,s=o/e.delta,e.delta=o),0!==e.timeScalePrev&&(s*=a.timeScale/e.timeScalePrev),0===a.timeScale&&(s=0),e.timeScalePrev=a.timeScale,e.correction=s,e.frameCounter+=1,n-e.counterTimestamp>=1e3&&(e.fps=e.frameCounter*((n-e.counterTimestamp)/1e3),e.counterTimestamp=n,e.frameCounter=0),i.trigger(e,"tick",c),i.trigger(t,"tick",c),t.world.isModified&&t.render&&t.render.controller&&t.render.controller.clear&&t.render.controller.clear(t.render),i.trigger(e,"beforeUpdate",c),r.update(t,o,s),i.trigger(e,"afterUpdate",c),t.render&&t.render.controller&&(i.trigger(e,"beforeRender",c),i.trigger(t,"beforeRender",c),t.render.controller.world(t.render),i.trigger(e,"afterRender",c),i.trigger(t,"afterRender",c)),i.trigger(e,"afterTick",c),i.trigger(t,"afterTick",c)},o.stop=function(e){t(e.frameRequestId)},o.start=function(e,t){o.run(e,t)}})()},function(e,t,n){var o={};e.exports=o;var i=n(5),r=n(8),a=n(0),s=n(6),c=n(16);(function(){o.stack=function(e,t,n,o,r,a,c){for(var l,u=i.create({label:"Stack"}),d=e,f=t,p=0,v=0;v<o;v++){for(var g=0,m=0;m<n;m++){var h=c(d,f,m,v,l,p);if(h){var y=h.bounds.max.y-h.bounds.min.y,b=h.bounds.max.x-h.bounds.min.x;y>g&&(g=y),s.translate(h,{x:.5*b,y:.5*y}),d=h.bounds.max.x+r,i.addBody(u,h),l=h,p+=1}else d+=r}f+=g+a,d=e}return u},o.chain=function(e,t,n,o,s,c){for(var l=e.bodies,u=1;u<l.length;u++){var d=l[u-1],f=l[u],p=d.bounds.max.y-d.bounds.min.y,v=d.bounds.max.x-d.bounds.min.x,g=f.bounds.max.y-f.bounds.min.y,m=f.bounds.max.x-f.bounds.min.x,h={bodyA:d,pointA:{x:v*t,y:p*n},bodyB:f,pointB:{x:m*o,y:g*s}},y=a.extend(h,c);i.addConstraint(e,r.create(y))}return e.label+=" Chain",e},o.mesh=function(e,t,n,o,s){var c,l,u,d,f,p=e.bodies;for(c=0;c<n;c++){for(l=1;l<t;l++)u=p[l-1+c*t],d=p[l+c*t],i.addConstraint(e,r.create(a.extend({bodyA:u,bodyB:d},s)));if(c>0)for(l=0;l<t;l++)u=p[l+(c-1)*t],d=p[l+c*t],i.addConstraint(e,r.create(a.extend({bodyA:u,bodyB:d},s))),o&&l>0&&(f=p[l-1+(c-1)*t],i.addConstraint(e,r.create(a.extend({bodyA:f,bodyB:d},s)))),o&&l<t-1&&(f=p[l+1+(c-1)*t],i.addConstraint(e,r.create(a.extend({bodyA:f,bodyB:d},s))))}return e.label+=" Mesh",e},o.pyramid=function(e,t,n,i,r,a,c){return o.stack(e,t,n,i,r,a,(function(t,o,a,l,u,d){var f=Math.min(i,Math.ceil(n/2)),p=u?u.bounds.max.x-u.bounds.min.x:0;if(!(l>f)){l=f-l;var v=l,g=n-1-l;if(!(a<v||a>g)){1===d&&s.translate(u,{x:(a+(n%2===1?1:-1))*p,y:0});var m=u?a*p:0;return c(e+m+a*r,o,a,l,u,d)}}}))},o.newtonsCradle=function(e,t,n,o,a){for(var s=i.create({label:"Newtons Cradle"}),l=0;l<n;l++){var u=1.9,d=c.circle(e+l*(o*u),t+a,o,{inertia:1/0,restitution:1,friction:0,frictionAir:1e-4,slop:1}),f=r.create({pointA:{x:e+l*(o*u),y:t},bodyB:d});i.addBody(s,d),i.addConstraint(s,f)}return s},o.car=function(e,t,n,o,a){var l=s.nextGroup(!0),u=20,d=.5*-n+u,f=.5*n-u,p=0,v=i.create({label:"Car"}),g=c.rectangle(e,t,n,o,{collisionFilter:{group:l},chamfer:{radius:.5*o},density:2e-4}),m=c.circle(e+d,t+p,a,{collisionFilter:{group:l},friction:.8}),h=c.circle(e+f,t+p,a,{collisionFilter:{group:l},friction:.8}),y=r.create({bodyB:g,pointB:{x:d,y:p},bodyA:m,stiffness:1,length:0}),b=r.create({bodyB:g,pointB:{x:f,y:p},bodyA:h,stiffness:1,length:0});return i.addBody(v,g),i.addBody(v,m),i.addBody(v,h),i.addConstraint(v,y),i.addConstraint(v,b),v},o.softBody=function(e,t,n,i,r,s,l,u,d,f){d=a.extend({inertia:1/0},d),f=a.extend({stiffness:.2,render:{type:"line",anchors:!1}},f);var p=o.stack(e,t,n,i,r,s,(function(e,t){return c.circle(e,t,u,d)}));return o.mesh(p,n,i,l,f),p.label="Soft Body",p}})()},function(e,t,n){var o={};e.exports=o;n(1);var i=n(0);(function(){o.pathToVertices=function(e,t){"undefined"===typeof window||"SVGPathSeg"in window||i.warn("Svg.pathToVertices: SVGPathSeg not defined, a polyfill is required.");var n,r,a,s,c,l,u,d,f,p,v,g,m=[],h=0,y=0,b=0;t=t||15;var x=function(e,t,n){var o=n%2===1&&n>1;if(!f||e!=f.x||t!=f.y){f&&o?(v=f.x,g=f.y):(v=0,g=0);var i={x:v+e,y:g+t};!o&&f||(f=i),m.push(i),y=v+e,b=g+t}},w=function(e){var t=e.pathSegTypeAsLetter.toUpperCase();if("Z"!==t){switch(t){case"M":case"L":case"T":case"C":case"S":case"Q":y=e.x,b=e.y;break;case"H":y=e.x;break;case"V":b=e.y;break}x(y,b,e.pathSegType)}};for(o._svgPathToAbsolute(e),a=e.getTotalLength(),l=[],n=0;n<e.pathSegList.numberOfItems;n+=1)l.push(e.pathSegList.getItem(n));u=l.concat();while(h<a){if(p=e.getPathSegAtLength(h),c=l[p],c!=d){while(u.length&&u[0]!=c)w(u.shift());d=c}switch(c.pathSegTypeAsLetter.toUpperCase()){case"C":case"T":case"S":case"Q":case"A":s=e.getPointAtLength(h),x(s.x,s.y,0);break}h+=t}for(n=0,r=u.length;n<r;++n)w(u[n]);return m},o._svgPathToAbsolute=function(e){for(var t,n,o,i,r,a,s=e.pathSegList,c=0,l=0,u=s.numberOfItems,d=0;d<u;++d){var f=s.getItem(d),p=f.pathSegTypeAsLetter;if(/[MLHVCSQTA]/.test(p))"x"in f&&(c=f.x),"y"in f&&(l=f.y);else switch("x1"in f&&(o=c+f.x1),"x2"in f&&(r=c+f.x2),"y1"in f&&(i=l+f.y1),"y2"in f&&(a=l+f.y2),"x"in f&&(c+=f.x),"y"in f&&(l+=f.y),p){case"m":s.replaceItem(e.createSVGPathSegMovetoAbs(c,l),d);break;case"l":s.replaceItem(e.createSVGPathSegLinetoAbs(c,l),d);break;case"h":s.replaceItem(e.createSVGPathSegLinetoHorizontalAbs(c),d);break;case"v":s.replaceItem(e.createSVGPathSegLinetoVerticalAbs(l),d);break;case"c":s.replaceItem(e.createSVGPathSegCurvetoCubicAbs(c,l,o,i,r,a),d);break;case"s":s.replaceItem(e.createSVGPathSegCurvetoCubicSmoothAbs(c,l,r,a),d);break;case"q":s.replaceItem(e.createSVGPathSegCurvetoQuadraticAbs(c,l,o,i),d);break;case"t":s.replaceItem(e.createSVGPathSegCurvetoQuadraticSmoothAbs(c,l),d);break;case"a":s.replaceItem(e.createSVGPathSegArcAbs(c,l,f.r1,f.r2,f.angle,f.largeArcFlag,f.sweepFlag),d);break;case"z":case"Z":c=t,l=n;break}"M"!=p&&"m"!=p||(t=c,n=l)}}})()},function(e,t,n){var o={};e.exports=o;var i=n(1),r=n(5),a=n(0),s=n(4),c=n(2);(function(){var e,t;"undefined"!==typeof window&&(e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout((function(){e(a.now())}),1e3/60)},t=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame),o.create=function(e){a.warn("RenderPixi.create: Matter.RenderPixi is deprecated (see docs)");var t={controller:o,engine:null,element:null,frameRequestId:null,canvas:null,renderer:null,container:null,spriteContainer:null,pixiOptions:null,options:{width:800,height:600,background:"#fafafa",wireframeBackground:"#222",hasBounds:!1,enabled:!0,wireframes:!0,showSleeping:!0,showDebug:!1,showBroadphase:!1,showBounds:!1,showVelocity:!1,showCollisions:!1,showAxes:!1,showPositions:!1,showAngleIndicator:!1,showIds:!1,showShadows:!1}},n=a.extend(t,e),i=!n.options.wireframes&&"transparent"===n.options.background;return n.pixiOptions=n.pixiOptions||{view:n.canvas,transparent:i,antialias:!0,backgroundColor:e.background},n.mouse=e.mouse,n.engine=e.engine,n.renderer=n.renderer||new PIXI.WebGLRenderer(n.options.width,n.options.height,n.pixiOptions),n.container=n.container||new PIXI.Container,n.spriteContainer=n.spriteContainer||new PIXI.Container,n.canvas=n.canvas||n.renderer.view,n.bounds=n.bounds||{min:{x:0,y:0},max:{x:n.options.width,y:n.options.height}},s.on(n.engine,"beforeUpdate",(function(){o.clear(n)})),n.textures={},n.sprites={},n.primitives={},n.container.addChild(n.spriteContainer),a.isElement(n.element)?n.element.appendChild(n.canvas):a.warn('No "render.element" passed, "render.canvas" was not inserted into document.'),n.canvas.oncontextmenu=function(){return!1},n.canvas.onselectstart=function(){return!1},n},o.run=function(t){(function n(i){t.frameRequestId=e(n),o.world(t)})()},o.stop=function(e){t(e.frameRequestId)},o.clear=function(e){var t=e.container,n=e.spriteContainer;while(t.children[0])t.removeChild(t.children[0]);while(n.children[0])n.removeChild(n.children[0]);var o=e.sprites["bg-0"];e.textures={},e.sprites={},e.primitives={},e.sprites["bg-0"]=o,o&&t.addChildAt(o,0),e.container.addChild(e.spriteContainer),e.currentBackground=null,t.scale.set(1,1),t.position.set(0,0)},o.setBackground=function(e,t){if(e.currentBackground!==t){var n=t.indexOf&&-1!==t.indexOf("#"),o=e.sprites["bg-0"];if(n){var i=a.colorToNumber(t);e.renderer.backgroundColor=i,o&&e.container.removeChild(o)}else if(!o){var r=u(e,t);o=e.sprites["bg-0"]=new PIXI.Sprite(r),o.position.x=0,o.position.y=0,e.container.addChildAt(o,0)}e.currentBackground=t}},o.world=function(e){var t,n=e.engine,a=n.world,s=e.renderer,l=e.container,u=e.options,d=r.allBodies(a),f=r.allConstraints(a),p=[];u.wireframes?o.setBackground(e,u.wireframeBackground):o.setBackground(e,u.background);var v=e.bounds.max.x-e.bounds.min.x,g=e.bounds.max.y-e.bounds.min.y,m=v/e.options.width,h=g/e.options.height;if(u.hasBounds){for(t=0;t<d.length;t++){var y=d[t];y.render.sprite.visible=i.overlaps(y.bounds,e.bounds)}for(t=0;t<f.length;t++){var b=f[t],x=b.bodyA,w=b.bodyB,S=b.pointA,O=b.pointB;x&&(S=c.add(x.position,b.pointA)),w&&(O=c.add(w.position,b.pointB)),S&&O&&((i.contains(e.bounds,S)||i.contains(e.bounds,O))&&p.push(b))}l.scale.set(1/m,1/h),l.position.set(-e.bounds.min.x*(1/m),-e.bounds.min.y*(1/h))}else p=f;for(t=0;t<d.length;t++)o.body(e,d[t]);for(t=0;t<p.length;t++)o.constraint(e,p[t]);s.render(l)},o.constraint=function(e,t){e.engine;var n=t.bodyA,o=t.bodyB,i=t.pointA,r=t.pointB,s=e.container,c=t.render,l="c-"+t.id,u=e.primitives[l];u||(u=e.primitives[l]=new PIXI.Graphics),c.visible&&t.pointA&&t.pointB?(-1===a.indexOf(s.children,u)&&s.addChild(u),u.clear(),u.beginFill(0,0),u.lineStyle(c.lineWidth,a.colorToNumber(c.strokeStyle),1),n?u.moveTo(n.position.x+i.x,n.position.y+i.y):u.moveTo(i.x,i.y),o?u.lineTo(o.position.x+r.x,o.position.y+r.y):u.lineTo(r.x,r.y),u.endFill()):u.clear()},o.body=function(e,t){e.engine;var o=t.render;if(o.visible)if(o.sprite&&o.sprite.texture){var i="b-"+t.id,r=e.sprites[i],s=e.spriteContainer;r||(r=e.sprites[i]=n(e,t)),-1===a.indexOf(s.children,r)&&s.addChild(r),r.position.x=t.position.x,r.position.y=t.position.y,r.rotation=t.angle,r.scale.x=o.sprite.xScale||1,r.scale.y=o.sprite.yScale||1}else{var c="b-"+t.id,u=e.primitives[c],d=e.container;u||(u=e.primitives[c]=l(e,t),u.initialAngle=t.angle),-1===a.indexOf(d.children,u)&&d.addChild(u),u.position.x=t.position.x,u.position.y=t.position.y,u.rotation=t.angle-u.initialAngle}};var n=function(e,t){var n=t.render,o=n.sprite.texture,i=u(e,o),r=new PIXI.Sprite(i);return r.anchor.x=t.render.sprite.xOffset,r.anchor.y=t.render.sprite.yOffset,r},l=function(e,t){var n,o=t.render,i=e.options,r=new PIXI.Graphics,s=a.colorToNumber(o.fillStyle),c=a.colorToNumber(o.strokeStyle),l=a.colorToNumber(o.strokeStyle),u=a.colorToNumber("#bbb"),d=a.colorToNumber("#CD5C5C");r.clear();for(var f=t.parts.length>1?1:0;f<t.parts.length;f++){n=t.parts[f],i.wireframes?(r.beginFill(0,0),r.lineStyle(1,u,1)):(r.beginFill(s,1),r.lineStyle(o.lineWidth,c,1)),r.moveTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y);for(var p=1;p<n.vertices.length;p++)r.lineTo(n.vertices[p].x-t.position.x,n.vertices[p].y-t.position.y);r.lineTo(n.vertices[0].x-t.position.x,n.vertices[0].y-t.position.y),r.endFill(),(i.showAngleIndicator||i.showAxes)&&(r.beginFill(0,0),i.wireframes?r.lineStyle(1,d,1):r.lineStyle(1,l),r.moveTo(n.position.x-t.position.x,n.position.y-t.position.y),r.lineTo((n.vertices[0].x+n.vertices[n.vertices.length-1].x)/2-t.position.x,(n.vertices[0].y+n.vertices[n.vertices.length-1].y)/2-t.position.y),r.endFill())}return r},u=function(e,t){var n=e.textures[t];return n||(n=e.textures[t]=PIXI.Texture.fromImage(t)),n}})()}])}))},bc1b:function(e,t,n){},be56:function(e,t){var n=Math.floor,o=Math.random;function i(e,t){return e+n(o()*(t-e+1))}e.exports=i},c098:function(e,t){var n=9007199254740991,o=/^(?:0|[1-9]\d*)$/;function i(e,t){var i=typeof e;return t=null==t?n:t,!!t&&("number"==i||"symbol"!=i&&o.test(e))&&e>-1&&e%1==0&&e<t}e.exports=i},c1c5:function(e,t,n){var o=n("91c3");e.exports="undefined"==typeof window?o:n("e2d1").push(o)},c569:function(e,t,n){},cf5c:function(e,t,n){e.exports=n.p+"static/img/3490e33f458117268ff2c67397e16010.png"},d4ef:function(e,t,n){},de2a:function(e,t,n){"use strict";n("1256")},dedd:function(e,t,n){e.exports=n.p+"static/img/862d716402cbe88f042e36496f4a5fbd.png"},df4d:function(e,t,n){e.exports=n.p+"static/img/aaacd64d9dc9e97656ab9c15caaf3506.png"},e3b3:function(e,t,n){},ffd6:function(e,t,n){var o=n("3729"),i=n("1310"),r="[object Symbol]";function a(e){return"symbol"==typeof e||i(e)&&o(e)==r}e.exports=a}}]);